<smvc:FormTrans xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                xmlns:src="clr-namespace:AAA_SODMHDB"
                LanguageID ="AAA_SODMHDB_1"
                xmlns:igWindows="http://infragistics.com/Windows"
                xmlns:smc="http://Fast.com.vn/Sm/Windows/Controls"
                xmlns:smvc="clr-namespace:SmVoucherLib;assembly=SmVoucherLib"
                xmlns:System="clr-namespace:System;assembly=mscorlib"
                xmlns:igEditors="http://infragistics.com/Editors"
                xmlns:igDP="http://infragistics.com/DataPresenter"
                xmlns:diagnostics="clr-namespace:System.Diagnostics;assembly=WindowsBase"
                x:Class="AAA_SODMHDB.FrmPoctpna"
                Title="Cap nhat thong tin sua chua"
                Height="930"
                Width="960"
                Theme="Voucher"
                x:Name="FormMain"
                xmlns:sys="clr-namespace:System;assembly=mscorlib"
                WindowStartupLocation="CenterScreen"
                xmlns:igThemes="http://infragistics.com/Themes"
                xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
                xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
                AssignMaxLengthControlList = "txtSo_ct;txtDia_chi;txtOng_ba;txtDien_giai;txtghi_chu"
                mc:Ignorable="d"
                Cm_Moi="V_Moi"
                Cm_Sua="V_Sua"
                Cm_Nhan="V_Nhan"
                Cm_Copy="V_Copy"
                Cm_In="V_In"
                Cm_Huy="V_Huy"
                Cm_Xoa="V_Xoa"
                Cm_Xem="V_Xem"
                Cm_Dau="V_Dau"
                Cm_Truoc="V_Truoc"
                Cm_Sau="V_Sau"
                Cm_Cuoi="V_Cuoi"
                Cm_Tim="V_Tim"
                EditModeEnded="FormMain_EditModeEnded" WindowState="Maximized"
                >

    <smvc:FormTrans.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <smc:CachedResourceDictionary Source="pack://application:,,,/SmStyle;component/TextBlockStyles.xaml" />
                <smc:CachedResourceDictionary Source="pack://application:,,,/SmStyle;component/TextBoxStyles.xaml" />
                <smc:CachedResourceDictionary Source="pack://application:,,,/SmStyle;component/ButtonStyles.xaml" />
                <smc:CachedResourceDictionary Source="pack://application:,,,/SmStyle;component/DataGridViewStyles.xaml" />
                <smc:CachedResourceDictionary Source="pack://application:,,,/SmStyle;component/GroupBoxStyles.xaml" />
                <smc:CachedResourceDictionary Source="pack://application:,,,/SmStyle;component/CheckBoxStyles.xaml" />
                <smc:CachedResourceDictionary Source="pack://application:,,,/SmStyle;component/NumericTextBoxStyles.xaml" />
                <smc:CachedResourceDictionary Source="pack://application:,,,/SmStyle;component/MaskedTextBoxStyles.xaml" />
                <smc:CachedResourceDictionary Source="pack://application:,,,/SmStyle;component/AutoCompleteTextBoxStyles.xaml" />
                <smc:CachedResourceDictionary Source="pack://application:,,,/SmStyle;component/XamComboEditorStyles.xaml" />
                <smc:CachedResourceDictionary Source="pack://application:,,,/SmStyle;component/ExRateTextBoxStyles.xaml" />
                <smc:CachedResourceDictionary Source="pack://application:,,,/SmStyle;component/DateTextBoxStyles.xaml" />
                <!--<smc:CachedResourceDictionary Source="pack://application:,,,/SmStyle;component/SummaryResultPresenterStyles.xaml" />-->
                <smc:CachedResourceDictionary Source="pack://application:,,,/SmStyle;component/TabItemExStyles.xaml" />
            </ResourceDictionary.MergedDictionaries>

            <smvc:BindingVisibility x:Key="VisibilityConverter"/>
            <smc:CheckBoxConverter x:Key="IsCheckedConverter" />
            <src:BindingReadonly x:Key="ReadOnlyConverter" />
            <src:BindingTextStatus x:Key="TextStatus" />
            <smc:BoolInverter x:Key="BoolInverter"/>
            <smvc:BindingStatusVoucher x:Key="StatusVoucher" />
            <smvc:FormatMaskNumberConverter x:Key="MaskNumeric" />

            <src:IdRecordConverterXamDataGrid x:Key="IdRecordXamDataGrid" />

            <smc:CodeValueBindingObject x:Key="IsInEditMode"
                                        Value="False" />
            <smc:CodeValueBindingObject x:Key="Voucher_Ma_nt0" />
            <smc:CodeValueBindingObject x:Key="Voucher_Lan0" />
            <smc:CodeValueBindingObject x:Key="M_Ngay_lct"
                                        Value="False" />
            <smc:CodeValueBindingObject x:Key="IsCheckedSua_tien"
                                        Value="False" />
            <smc:CodeValueBindingObject x:Key="Ty_Gia_ValueChange"
                                        Value="False" />
            <smc:CodeValueBindingObject x:Key="M_GIO_VAO" Text="#,0;-#,0" />
            <smc:CodeValueBindingObject x:Key="M_GIO_RA" Text="#,0;-#,0" />
            <smc:CodeValueBindingObject x:Key="M_PHUT_VAO" Text="#,0;-#,0" />
            <smc:CodeValueBindingObject x:Key="M_PHUT_RA" Text="#,0;-#,0" />
            <smc:CodeValueBindingObject x:Key="M_PS_THEM" Text="#,0;-#,0" />


            <Style x:Key="ButtonEnabled"
                   TargetType="{x:Type Button}">
                <Setter Property="IsEnabled" Value="True" />
                <Style.Triggers>
                    <DataTrigger Binding="{Binding Path=IsEditMode, Source={StaticResource IsInEditMode}}"
                                 Value="True">
                        <Setter Property="IsEnabled"
                                Value="True" />
                    </DataTrigger>
                </Style.Triggers>
            </Style>
            <!--<Style x:Key="ReadOnlyVNDColumn"
               TargetType="{x:Type TextBox}">
            <Setter Property="IsReadOnly"
                    Value="True" />
            <Style.Triggers>
                <MultiDataTrigger>
                    <MultiDataTrigger.Conditions>
                        <Condition Binding="{Binding Path=IsChecked, ElementName=ChkSuaTien}"
                                   Value="True" />
                        <Condition Binding="{Binding Path=Value, Source={StaticResource IsInEditMode}}"
                                   Value="True" />
                    </MultiDataTrigger.Conditions>
                    <Setter Property="IsReadOnly"
                            Value="False" />
                </MultiDataTrigger>
            </Style.Triggers>
        </Style>-->
            <!--ExRateTextBoxEditModeEnable-->
            <!--<Style x:Key="ExRateTextBoxEditModeEnable"
               TargetType="{x:Type smc:ExRateTextBox}"
               BasedOn="{StaticResource ExRateTextBoxStyle}">
            <Setter Property="IsReadOnly"
                    Value="True" />
            <Style.Triggers>
                <MultiDataTrigger>
                    <MultiDataTrigger.Conditions>
                        <Condition Binding="{smc:BindingEx Path=Value, Source={StaticResource IsInEditMode}}"
                                   Value="True" />
                        <Condition Binding="{smc:BindingEx Path=Value, Source={StaticResource Voucher_Ma_nt0}}"
                                   Value="False" />
                    </MultiDataTrigger.Conditions>
                    <Setter Property="smc:ExRateTextBox.IsReadOnly"
                            Value="False" />

                </MultiDataTrigger>
            </Style.Triggers>
        </Style>-->

            <!--ButtonEditModeEnable-->

            <Style x:Key="MaskedTextBoxReadOnly"
                   TargetType="{x:Type smc:MaskedTextBox}"
                   BasedOn="{StaticResource MaskedTextBoxStyle}">
                <Setter Property="IsReadOnly"
                        Value="True" />
                <Style.Triggers>
                    <DataTrigger Binding="{Binding Path=IsEditMode, Source={StaticResource IsInEditMode}}"
                                 Value="True">
                        <Setter Property="IsReadOnly"
                                Value="False" />
                    </DataTrigger>
                </Style.Triggers>
            </Style>

            <Style x:Key="NguoiMuaEditModeEnable"
                    TargetType="{x:Type TextBox}"
                                   BasedOn="{StaticResource TextBoxStyle}">
                <Setter Property="IsReadOnly">
                    <Setter.Value>
                        <MultiBinding Converter="{StaticResource ReadOnlyConverter}"
                                                 ConverterParameter="PH;ong_ba"
                                                 Mode="OneWay">
                            <Binding Source="{StaticResource IsInEditMode}"
                                                     Path="Value"/>
                        </MultiBinding>
                    </Setter.Value>
                </Setter>
                <Setter Property="IsTabStop"
                                        Value="True" />
                <Style.Triggers>
                    <DataTrigger Binding="{Binding Path=IsReadOnly, ElementName=txtOng_ba}"
                                                 Value="True">
                        <Setter Property="IsTabStop"
                                                Value="False" />
                        <Setter Property="IsReadOnly"
                                Value="True" />
                    </DataTrigger>
                </Style.Triggers>
            </Style>


            <Style x:Key="ButtonEditModeEnable"
                   TargetType="{x:Type Button}"
                   BasedOn="{StaticResource ButtonStyle}">
                <Style.Triggers>

                    <DataTrigger Binding="{smc:BindingEx Path=Value, Source={StaticResource IsInEditMode}}"
                                 Value="False">
                        <Setter Property="Button.IsEnabled"
                                Value="False" />
                    </DataTrigger>
                </Style.Triggers>
            </Style>

            <!--TextBoxEditModeEnable-->
            <Style x:Key="TextBoxEditModeEnable"
                   TargetType="{x:Type TextBox}"
                   BasedOn="{StaticResource TextBoxStyle}">
                <Style.Triggers>

                    <DataTrigger Binding="{smc:BindingEx Path=Value, Source={StaticResource IsInEditMode}}"
                                 Value="False">
                        <Setter Property="IsReadOnly"
                                Value="True" />
                    </DataTrigger>
                </Style.Triggers>
            </Style>
            <!--AutoCompleteTextBoxEditModeEnable-->
            <Style x:Key="AutoCompleteTextBoxEditModeEnable"
                   TargetType="{x:Type smc:AutoCompleteTextBox}"
                   BasedOn="{StaticResource AutoCompleteTextBoxStyle}">
                <Style.Triggers>
                    <DataTrigger Binding="{smc:BindingEx Path=Value, Source={StaticResource IsInEditMode}}"
                                 Value="False">
                        <Setter Property="IsReadOnly"
                                Value="True" />
                    </DataTrigger>
                </Style.Triggers>
            </Style>
            <!--NumericTextBoxrEditModeEnable-->
            <Style x:Key="NumericTextBoxrEditModeEnable"
                   TargetType="{x:Type smc:NumericTextBox}"
                   BasedOn="{StaticResource NumericTextBoxStyle}">
                <Style.Triggers>
                    <DataTrigger Binding="{smc:BindingEx Path=Value, Source={StaticResource IsInEditMode}}"
                                 Value="False">
                        <Setter Property="IsReadOnly"
                                Value="True" />
                    </DataTrigger>
                </Style.Triggers>
            </Style>

            <!--CheckBoxEditModeEnable-->
            <Style x:Key="CheckBoxEditModeEnable"
               TargetType="{x:Type CheckBox}"
               BasedOn="{StaticResource CheckBoxStyle}">
                <Style.Triggers>

                    <DataTrigger Binding="{smc:BindingEx Path=Value, Source={StaticResource IsInEditMode}}"
                             Value="False">
                        <Setter Property="IsEnabled"
                            Value="False" />
                    </DataTrigger>
                </Style.Triggers>
            </Style>

            <!--DateTextBoxEditModeEnable-->
            <Style x:Key="DateTextBoxEditModeEnable"
               TargetType="{x:Type smc:DateTextBox}"
               BasedOn="{StaticResource DateTextBoxStyle}">
                <Style.Triggers>
                    <DataTrigger Binding="{smc:BindingEx Path=Value, Source={StaticResource IsInEditMode}, Mode=OneWay}"
                             Value="False">
                        <Setter Property="IsReadOnly"
                            Value="True" />
                    </DataTrigger>
                </Style.Triggers>
            </Style>
            <!--ComboBoxEditModeEnable-->
            <Style x:Key="ComboBoxEditModeEnable"
               TargetType="{x:Type igEditors:XamComboEditor}"
               BasedOn="{StaticResource XamComboEditorStyle}">
                <Setter Property="DisplayMemberPath"
                        Value="ten_act" />
                <Setter Property="IsEnabled"
                        Value="false"/>
                <Style.Triggers>
                    <MultiDataTrigger>
                        <MultiDataTrigger.Conditions>
                            <Condition Binding="{Binding Path=Value, Source={StaticResource IsInEditMode},Mode=OneWay}"
                                       Value="False" />
                            <Condition Binding="{Binding Path=M_LAN, RelativeSource={RelativeSource AncestorType={x:Type smvc:FormTrans}}}"
                                       Value="E" />
                        </MultiDataTrigger.Conditions>
                        <Setter Property="DisplayMemberPath"
                                Value="ten_act2" />
                    </MultiDataTrigger>
                    <MultiDataTrigger>
                        <MultiDataTrigger.Conditions>
                            <Condition Binding="{Binding Path=Value, Source={StaticResource IsInEditMode},Mode=OneWay}"
                                       Value="True" />
                            <Condition Binding="{Binding Path=M_LAN, RelativeSource={RelativeSource AncestorType={x:Type smvc:FormTrans}}}"
                                       Value="V" />
                        </MultiDataTrigger.Conditions>
                        <Setter Property="DisplayMemberPath"
                                Value="ten_post" />
                    </MultiDataTrigger>
                    <MultiDataTrigger>
                        <MultiDataTrigger.Conditions>
                            <Condition Binding="{Binding Path=Value, Source={StaticResource IsInEditMode},Mode=OneWay}"
                                       Value="True" />
                            <Condition Binding="{Binding Path=M_LAN, RelativeSource={RelativeSource AncestorType={x:Type smvc:FormTrans}}}"
                                       Value="E" />
                        </MultiDataTrigger.Conditions>
                        <Setter Property="DisplayMemberPath"
                                Value="ten_post2" />
                    </MultiDataTrigger>
                    <DataTrigger Binding="{Binding Path=Value, Source={StaticResource IsInEditMode},Mode=OneWay}"
                                       Value="True">
                        <Setter Property="IsEnabled"
                                Value="true"/>
                    </DataTrigger>
                </Style.Triggers>
            </Style>
            <!--MaskedTextBoxEditModeEnable-->
            <Style x:Key="MaskedTextBoxEditModeEnable"
                   TargetType="{x:Type smc:MaskedTextBox}"
                   BasedOn="{StaticResource MaskedTextBoxStyle}">
                <Style.Triggers>
                    <DataTrigger Binding="{smc:BindingEx Path=Value, Source={StaticResource IsInEditMode}}"
                                 Value="False">
                        <Setter Property="IsReadOnly"
                                Value="True" />
                    </DataTrigger>
                </Style.Triggers>
            </Style>

            <SolidColorBrush x:Key="TabControlNormalBorderBrush"
                         Color="#919B9C" />

            <SolidColorBrush x:Key="TabItemHotBorderBrush"
                         Color="#FFE68B2C" />
            <SolidColorBrush x:Key="TabItemHotBorderBackround"
                         Color="#FFFFC73C" />
            <LinearGradientBrush x:Key="TabItemHotBackground"
                             EndPoint="0,1"
                             StartPoint="0,0">
                <GradientStop Color="#FFFFFFFF"
                          Offset="0" />
                <GradientStop Color="#FFECEBE6"
                          Offset="1" />
            </LinearGradientBrush>
            <SolidColorBrush x:Key="TabItemSelectedBorderBrush"
                         Color="#FFE68B2C" />
            <SolidColorBrush x:Key="TabItemSelectedBorderBackround"
                         Color="#FFFFC73C" />
            <SolidColorBrush x:Key="TabItemSelectedBackground"
                         Color="#FFFCFCFE" />
            <SolidColorBrush x:Key="TabItemDisabledBackground"
                         Color="#FFF5F4EA" />
            <SolidColorBrush x:Key="TabItemDisabledBorderBrush"
                         Color="#FFC9C7BA" />
        </ResourceDictionary>

    </smvc:FormTrans.Resources>

    <smc:GridLayout x:Name="GrdLayout00"
                    Margin="0"
                    RowCount="6"
                    RowHeights="35,280,65*,130">

        <smc:GridLayout Name="GrdLayout10"
                        Grid.Row="1"
                        RowCount="1"
                        RowHeights="*"
                        ColumnCount="5"
                        ColumnWidths="23*,10,45*,12,28*"
                        Margin="12,4,12,12">
            <!--Thong tin chung -->
            <GroupBox Name="gbInfo"
                      Header="Thông tin chung"
                      Grid.Column="0"
                      Grid.ColumnSpan="3"
                      Grid.Row="0"
                      Margin="0">
                <smc:GridLayout RowCount="11"
                                Name="GrdLayout35"
                                ColumnCount="7"
                                HeightPerRow="25"
                                ColumnWidths="*,*,*,*,*,*,*">
                    <!--ColumnWidths="80,110,80,100,120,*,40"-->
                    <TextBlock Text="Mã khách"
                               Name="tblma_kh"
                               Grid.Row="1"
                               Margin="15,0,0,0"
                               Grid.Column="2"
                               Style="{StaticResource ContentTextStyle}" />
                    <!--ma khach hang -->
                    <smc:AutoCompleteTextBox Name="txtMa_kh"
                                             Grid.Column="3" Height="20"
                                             TabIndex="11"
                                                                            Grid.Row="1"
                                             Text="{smc:BindingEx Path=ma_kh}"
                                             ParentControl="{Binding RelativeSource={RelativeSource FindAncestor, AncestorType=smvc:FormTrans}}"
                                             SysObj="{Binding Path=BindingSysObj,RelativeSource={RelativeSource FindAncestor, AncestorType=smvc:FormTrans}}"
                                             AllowEmty="False"
                                             AllowWrong="False"
                                             ListID="dmkh"
                                             Style="{StaticResource AutoCompleteTextBoxEditModeEnable}"
                                             PreviewLostFocus="txtMa_kh_PreviewLostFocus" Margin="0,2.583,0,0" VerticalAlignment="Top">
                    </smc:AutoCompleteTextBox>


                    <!--<TextBlock Name="tblTen_kh"
                               Grid.Row="2"
                               Grid.Column="0"
                               Grid.ColumnSpan="4"
                               Margin="12,0,0,0"
                               Style="{StaticResource ContentTextStyle}"
                               Text="{smc:BindingEx Path=ten_kh, Path2=ten_kh2}" />-->

                    <TextBox x:Name="tblTen_kh"
                             Grid.Column="0"
                             Height="20"
                             Grid.Row="2"
                             Grid.ColumnSpan="4"
                             IsReadOnly="True"
                             Background="Silver"
                             FlowDirection="LeftToRight" 
                             IsEnabled="True"
                             TabIndex="15"
                             Text="{smc:BindingEx Path=ten_kh}"
                             Style="{StaticResource TextBoxEditModeEnable}" 
                             GotFocus="txttenkh_GotFocus" FontSize="11"/>

                    <TextBox x:Name="tblghi_chu_kh"
                             Grid.Column="0"
                             Height="20"
                             Grid.Row="3"
                             Grid.ColumnSpan="4"
                             IsReadOnly="True"
                             IsEnabled="True"
                             TabIndex="15"
                             Text="{smc:BindingEx Path=ghi_chu_kh}"
                             Style="{StaticResource TextBoxEditModeEnable}" 
                             GotFocus="txttenkh_GotFocus" FontSize="10" Foreground="#FFFA0202"/>


                    <TextBlock Text="Loại hình"
                               Name="tblloai_ct"
                               Grid.Row="0"
                               Grid.Column="0"
                               Style="{StaticResource ContentTextStyle}" />

                    <!--<smc:MaskedTextBox Name="txtstatus2" Grid.Row="0" Grid.Column="1"
                                           Value="{smc:BindingEx loai_ct}"
                                           Format="M"
                                           InputMask="1,2"
                                           TabIndex="1"
                                           Style="{StaticResource MaskedTextBoxReadOnly}" 
                                           LostFocus="txtstatus_LostFocus"
                                           HorizontalContentAlignment="Right"/>-->

                    <smc:AutoCompleteTextBox Name="txtma_gd"
                                             Grid.Column="1"
                                             Grid.Row="0"
                                             TabIndex="9"
                                             Text="{smc:BindingEx Path=ma_gd}"
                                             ParentControl="{Binding RelativeSource={RelativeSource FindAncestor, AncestorType=smvc:FormTrans}}"
                                             SysObj="{Binding Path=BindingSysObj,RelativeSource={RelativeSource FindAncestor, AncestorType=smvc:FormTrans}}"
                                             AllowEmty="False"
                                             AllowWrong="False"
                                             Style="{StaticResource AutoCompleteTextBoxEditModeEnable}"
                                             ListID="dmmagd" 
                                             Filter="ma_ct like '%HDB%' and status = 1"
                                             PreviewLostFocus="txtma_gd_PreviewLostFocus"/>

                    <TextBlock Name="txtten_gd"
                               Grid.Row="0"
                               Margin="12,0,0,0"
                               Grid.Column="2"
                               Grid.ColumnSpan="2"
                               Style="{StaticResource ContentTextStyle}"
                               Text="{smc:BindingEx Path=ten_gd, Path2=ten_gd2}" />
                    <!--ngay hoach toan-->
                    <TextBlock Name="tblngay_ct"
                               Text="Ngày vào xưởng"
                               Grid.Column="4"
                               Grid.Row="0"
                               Grid.ColumnSpan="2"
                               Margin="20,0,0,0"
                               Style="{StaticResource ContentTextStyle}" />

                    <smc:DateTextBox x:Name="txtNgay_ct"
                                     Height="20"
                                     AllowEmpty="False"
                                     Grid.Column="5"
                                     Grid.Row="0"
                                     Grid.ColumnSpan="2"
                                     TabIndex="50"
                                     Value="{smc:BindingEx Path=ngay_ct}"
                                     Style="{StaticResource DateTextBoxEditModeEnable}"
                                     LostFocus="txtNgay_ct_LostFocus"
                                     />

                    <smc:DateTextBox x:Name="txtgio_vao"
                                     Height="20"
                                     AllowEmpty="False"
                                     Grid.Column="6"
                                     Grid.Row="0"
                                     Grid.ColumnSpan="2"
                                     TabIndex="50"
                                     Value="{smc:BindingEx Path=gio_vao}"
                                     Style="{StaticResource DateTextBoxEditModeEnable}"
                                     LostFocus="txtNgay_ct_LostFocus"
                                     Format="HH:mm"
                                     />

                    <TextBlock Text="Tìm xe"
                               Name="tblma_vv"
                               Grid.Row="1"
                               Grid.Column="0"
                               Style="{StaticResource ContentTextStyle}" />


                    <!--ma khach hang -->
                    <smc:AutoCompleteTextBox Name="txtMa_vv"
                                             Grid.Column="1" 
                                             Height="20"
                                             TabIndex="10"
                                             Grid.Row="1"
                                             Text="{smc:BindingEx Path=ma_vv}"
                                             ParentControl="{Binding RelativeSource={RelativeSource FindAncestor, AncestorType=smvc:FormTrans}}"
                                             SysObj="{Binding Path=BindingSysObj,RelativeSource={RelativeSource FindAncestor, AncestorType=smvc:FormTrans}}"
                                             AllowEmty="True"
                                             AllowWrong="True"
                                             ListID="dmvv"
                                             Style="{StaticResource AutoCompleteTextBoxEditModeEnable}"
                                             PreviewLostFocus="txtMa_vv_PreviewLostFocus" Margin="0,2.583,0,0" VerticalAlignment="Top">
                    </smc:AutoCompleteTextBox>
                    <!--dia chi-->
                    <TextBlock Text="Địa chỉ"
                               Name="tbldia_chi"
                               Grid.Row="4"
                               Grid.Column="0"
                               Style="{StaticResource ContentTextStyle}" />
                    <TextBox x:Name="txtDia_chi"
                             Grid.Column="1"
                             Height="20"
                             Grid.Row="4"
                             Grid.ColumnSpan="3"
                             TabIndex="15"
                             Text="{smc:BindingEx Path=dia_chi}"
                             Style="{StaticResource TextBoxEditModeEnable}" 
                             GotFocus="txtDia_chi_GotFocus"/>
                    <!--ma so thue-->
                    <TextBlock Text="Mã số thuế"
                               Name="tblma_so_thue"
                               Grid.Row="3"
                               Grid.Column="4"
                               Margin="20,0,0,0"
                               />
                    <TextBox x:Name="txtMaSoThue"
                             Grid.Column="5"
                             Grid.Row="3"
                              IsTabStop="False"
                             Grid.ColumnSpan="2"
                             Text="{smc:BindingEx Path=ma_so_thue}"
                             Style="{StaticResource TextBoxStyle}"
                             IsReadOnly="True" />

                    <!--người đại diện-->
                    <TextBlock Text="Người đại diện"
                               Name="tbldoi_tac"
                               Grid.Row="5"
                               Grid.Column="0"
                               Style="{StaticResource ContentTextStyle}" />
                    <TextBox Name="txtdoi_tac"
                             Height="20"
                             IsTabStop="True" 
                             Text="{smc:BindingEx Path=doi_tac}"
                             Grid.Column="1"
                             Grid.Row="5"
                             Grid.ColumnSpan="3"/>

                    <!--chức vụ-->
                    <TextBlock Text="Chức vụ"
                               Name="tblchuc_vu"
                               Grid.Row="6"
                               Grid.Column="0"
                               Style="{StaticResource ContentTextStyle}" />
                    <TextBox Name="txtchuc_vu"
                             Height="20"
                             IsTabStop="True" 
                             Text="{smc:BindingEx Path=chuc_vu}"
                             Grid.Column="1"
                             Grid.Row="6"
                             Grid.ColumnSpan="1"/>

                    <!--chức vụ-->
                    <TextBlock Text="Điện thoại"
                               Name="tbldien_thoai2"
                               Grid.Row="6"
                               Margin="15,0,0,0"
                               Grid.Column="2"
                               Style="{StaticResource ContentTextStyle}" />
                    <TextBox Name="txtdien_thoai2"
                             Height="20"
                             IsTabStop="True" 
                             Text="{smc:BindingEx Path=dien_thoai2}"
                             Grid.Column="3"
                             Grid.Row="6"
                             Grid.ColumnSpan="1"/>



                    <!--nguoi giao hang-->
                    <!--
                    <TextBlock Text="Thông tin xe"
                               Name="tblong_ba"
                               Grid.Row="4"
                               Grid.Column="0"
                               Style="{StaticResource ContentTextStyle}" />-->

                    <TextBlock Grid.Row="1"
                               Grid.Column="4"
                               Grid.ColumnSpan="2"
                               Text="Quyển sổ"
                               Name="tblma_qs"
                               Margin="20,0,0,0"
                               Style="{StaticResource ContentTextStyle}" />

                    <smc:AutoCompleteTextBox x:Name="txtMa_qs"
                                             Height="20"
                                             Grid.Column="5"
                                             Grid.Row="1"
                                             Text="{smc:BindingEx Path=ma_qs}"
                                             TabIndex="11"
                                             ParentControl="{Binding RelativeSource={RelativeSource FindAncestor, AncestorType=Window}}"
                                             SysObj="{Binding Path=BindingSysObj,RelativeSource={RelativeSource FindAncestor, AncestorType=Window}}"
                                             AllowEmty="False"
                                             AllowWrong="False"
                                             Grid.ColumnSpan="3"
                                             ListID="dmqs"
                                             Filter="ma_cts like '%HDB%' and status = 1"
                                             PreviewLostFocus="txtMa_qs_PreviewLostFocus"
                                             ValueChanged="txtMa_qs_ValueChanged"
                                             Style="{StaticResource AutoCompleteTextBoxEditModeEnable}">

                    </smc:AutoCompleteTextBox>
                    <!--so pn-->
                    <TextBlock Grid.Row="2"
                               Grid.Column="4"
                               Grid.ColumnSpan="2"
                               Name="tblso_ct"
                               Text="Số đơn hàng"
                               Margin="20,0,0,0"
                               Style="{StaticResource ContentTextStyle}" />
                    <TextBox x:Name="txtSo_ct"
                             Height="20"
                             Grid.Column="5"
                             Grid.Row="2"
                             TabIndex="52"
                             Grid.ColumnSpan="3"
                             Text="{smc:BindingEx Path=so_ct}"
                             CharacterCasing="Upper"
                             Style="{StaticResource TextBoxEditModeEnable}"
                             GotFocus="txtSo_ct_GotFocus"
                             LostFocus="txtSo_ct_LostFocus">
                    </TextBox>






                    <!--GotFocus="txtSo_luong05_GotFocus"
                                        LostFocus="txtSo_luong05_LostFocus"-->

                    <!--<TextBox x:Name="txtOng_ba"
                             Grid.Column="1"
                             Grid.Row="2"
                             Grid.ColumnSpan="2"
                             TabIndex="20"
                             Text="{smc:BindingEx Path=ong_ba}"
                            
                              >
                        <TextBox.Style>
                            <Style TargetType="{x:Type TextBox}"
                                   BasedOn="{StaticResource TextBoxStyle}">
                                <Setter Property="IsReadOnly">
                                    <Setter.Value>
                                        <MultiBinding Converter="{StaticResource ReadOnlyConverter}"
                                                 ConverterParameter="PH;ong_ba"
                                                 Mode="OneWay">
                                            <Binding Source="{StaticResource IsInEditMode}"
                                                     Path="Value"/>
                                        </MultiBinding>
                                    </Setter.Value>
                                </Setter>
                                <Setter Property="IsTabStop"
                                        Value="True" />
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding Path=IsReadOnly, ElementName=txtOng_ba}"
                                                 Value="True">
                                        <Setter Property="IsTabStop"
                                                Value="False" />
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </TextBox.Style>
                    </TextBox>-->
                    <!--<TextBox x:Name="txtOng_ba"
                             Grid.Column="1"
                             Grid.Row="2"
                             Grid.ColumnSpan="2"
                             TabIndex="20"
                             Text="{smc:BindingEx Path=ong_ba}"
                             Height="20"
                             FontWeight="Normal">
                        <TextBox.Style>
                            <Style BasedOn="{StaticResource TextBoxStyle}"
                                   TargetType="{x:Type TextBox}">
                                <Setter Property="IsReadOnly">
                                    <Setter.Value>
                                        <Binding Converter="{StaticResource IsReadOnlyField}"
                                                 ConverterParameter="ong_ba"
                                                 Mode="OneWay"
                                                 Source="{StaticResource IsInEditMode}"
                                                 Path="Value" />
                                    </Setter.Value>
                                </Setter>
                                <Setter Property="IsTabStop"
                                        Value="true">
                                </Setter>
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding Path=IsReadOnly, ElementName=txtOng_ba}"
                                                 Value="True">
                                        <Setter Property="IsTabStop"
                                                Value="False" />
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </TextBox.Style>
                    </TextBox>-->
                    <TextBlock Text="Số dư"
                               Name="tblso_du_kh"
                               Grid.Row="2"
                               Visibility="Hidden"
                               Grid.Column="3"
                               Margin="12,0,0,0" />
                    <smc:NumericTextBox Name="txtso_du_kh"
                             Grid.Row="2"
                             IsTabStop="False"
                             Grid.Column="4"
                                        Visibility="Hidden"
                             IsReadOnly="True"
                             Height="20"
                             Format="{Binding Path=Text, Source={StaticResource Voucher_Ma_nt0}, Mode=OneWay, Converter={StaticResource MaskNumeric}, ConverterParameter=M_IP_TIEN}" />

                    <!--dien giai-->
                    <TextBlock Text="Diễn giải"
                               Name="tbldien_giai"
                               Grid.Row="7"
                               Grid.Column="0"
                               Style="{StaticResource ContentTextStyle}" />
                    <TextBox Name="txtDien_giai"
                             Height="20"
                             TabIndex="51"
                             Text="{smc:BindingEx Path=dien_giai}"
                             Grid.Column="1"
                             Grid.Row="7"
                             Grid.ColumnSpan="3"
                           
                             FontWeight="Normal"
                             Style="{StaticResource TextBoxEditModeEnable}"
                             />
                    <!--ma nhap xuat-->
                    <TextBlock Text="Mã nx (tk nợ)"
                               Name="tblma_nx"
                               Grid.Row="4"
                               Visibility="Hidden"
                               Grid.Column="0"
                               Style="{StaticResource ContentTextStyle}" />

                    <smc:AutoCompleteTextBox x:Name="txtMa_nx"
                                             Height="20"
                                             Grid.Column="1"
                                             Grid.Row="4"
                                             TabIndex="40"
                                             Visibility="Hidden"
                                             Text="{smc:BindingEx Path=ma_nx}"
                                             ParentControl="{Binding RelativeSource={RelativeSource FindAncestor, AncestorType=Window}}"
                                             SysObj="{Binding Path=BindingSysObj,RelativeSource={RelativeSource FindAncestor, AncestorType=Window}}"
                                             AllowEmty="False"
                                             AllowWrong="False"
                                             ListID="dmnx"
                                             Style="{StaticResource AutoCompleteTextBoxEditModeEnable}"
                                             PreviewLostFocus="txtMa_nx_PreviewLostFocus">
                    </smc:AutoCompleteTextBox>
                    <TextBlock Name="tblTenNX"
                               Grid.Row="4"
                               Grid.Column="2"
                               Grid.ColumnSpan="2"
                               Visibility="Hidden"
                               Margin="12,0,0,0"
                               Style="{StaticResource ContentTextStyle}"
                               Text="{smc:BindingEx Path=ten_nx, Path2=ten_nx2}" />

                    <TextBlock Text="NVBH"
                               Name="tblnguoi_ban"
                               Grid.Row="5"
                               Margin="20,0,0,0"
                               Grid.Column="4"
                               Style="{StaticResource ContentTextStyle}" />
                    <smc:AutoCompleteTextBox x:Name="txtMa_bp"
                                             Height="20"
                                 Grid.Column="5"
                                 Grid.Row="5"
                                 TabIndex="42"
                                              Grid.ColumnSpan="2"
                                 Text="{smc:BindingEx Path=ma_bp}"
                                 ParentControl="{Binding RelativeSource={RelativeSource FindAncestor, AncestorType=Window}}"
                                 SysObj="{Binding Path=BindingSysObj,RelativeSource={RelativeSource FindAncestor, AncestorType=Window}}"
                                 AllowEmty="True"
                                 AllowWrong="False"
                                 IsTabStop="False"
                                 ListID="dmbp"
                                 GotFocus="txtMa_bp_GotFocus"
                                 Style="{StaticResource AutoCompleteTextBoxEditModeEnable}"
                                 PreviewLostFocus="txtMa_nguoi_ban_PreviewLostFocus"
                                             Loaded="txtMa_bp_Loaded">
                    </smc:AutoCompleteTextBox>

                    <TextBlock Text="Loại hình sửa chữa"
                               Name="tblma_td3"
                               Grid.Row="4"
                               Margin="20,0,0,0"
                               Grid.Column="4"
                               Style="{StaticResource ContentTextStyle}" />
                    
                    
                    <!--<smc:AutoCompleteTextBox x:Name="txtMa_td3"
                                             Height="20"
                                 TabIndex="22"
                                 Text="{smc:BindingEx Path=ma_td3}"
                                 ParentControl="{Binding RelativeSource={RelativeSource FindAncestor, AncestorType=Window}}"
                                 SysObj="{Binding Path=BindingSysObj,RelativeSource={RelativeSource FindAncestor, AncestorType=Window}}"
                                 AllowEmty="True"
                                 AllowWrong="False"
                                 IsTabStop="False"
                                 ListID="dmtd3"
                                 GotFocus="txtMa_td3_GotFocus"
                                 Style="{StaticResource AutoCompleteTextBoxEditModeEnable}"
                                 PreviewLostFocus="txtMa_nguoi_ban_PreviewLostFocus" 
                                             Margin="490,0,0,21.92"
                                             VerticalAlignment="Bottom"/>-->
                    <!--</smc:AutoCompleteTextBox>-->

                    <smc:AutoCompleteTextBox x:Name="txtMa_td3"
                                             Height="20"
                                 Grid.Column="5"
                                 Grid.Row="4"
                                 TabIndex="22"
                                 Grid.ColumnSpan="2"
                                 Text="{smc:BindingEx Path=ma_td3}"
                                 ParentControl="{Binding RelativeSource={RelativeSource FindAncestor, AncestorType=Window}}"
                                 SysObj="{Binding Path=BindingSysObj,RelativeSource={RelativeSource FindAncestor, AncestorType=Window}}"
                                 AllowEmty="True"
                                 AllowWrong="False"
                                 IsTabStop="False"
                                 ListID="dmtd3"
                                 GotFocus="txtMa_td3_GotFocus"
                                 Style="{StaticResource AutoCompleteTextBoxEditModeEnable}"
                                 PreviewLostFocus="txtMa_nguoi_ban_PreviewLostFocus"
                                             Loaded="txtMa_bp_Loaded">
                    </smc:AutoCompleteTextBox>

                    <TextBlock Text="Chọn dịch vụ"
                               Name="tblchon_dm"
                               Grid.Row="8"
                               Grid.Column="0"                               
                               Style="{StaticResource ContentTextStyle}" />
                    
                    
                    <smc:AutoCompleteTextBox x:Name="txtMaSp"
                                             Grid.Column="1"
                                             Grid.Row="8"
                                             TabIndex="31"
                                             Text="{smc:BindingEx Path=ma_sp}"
                                             ParentControl="{Binding RelativeSource={RelativeSource FindAncestor, AncestorType=Window}}"
                                             SysObj="{Binding Path=BindingSysObj,RelativeSource={RelativeSource FindAncestor, AncestorType=Window}}"
                                             AllowEmty="True"
                                             AllowWrong="False"                                             
                                             ListID="dmsp"
                                             LostFocus="txtMaSp_PreviewLostFocus"                                                   
                                             Style="{StaticResource AutoCompleteTextBoxEditModeEnable}" />

                    <TextBlock Name="lblTenSp"
                               Grid.Row="5"
                               Grid.ColumnSpan="2"
                               Grid.Column="2"                               
                               />
                    <Button Name="btnOk1" 
                            Content="_OK1"
                            Grid.Column="1"
                            Grid.Row="5"
                            Width="75"
                            TabIndex="32"                            
                            Click="btnOk_Click1" Margin="528.5,1,12.5,10.438" VerticalAlignment="Bottom"/>
                    <!--<TextBlock Name="tblTenBP"
                               Grid.Row="5"
                               Grid.Column="2"
                               Grid.ColumnSpan="3"
                               Margin="12,0,0,0"
                               Style="{StaticResource ContentTextStyle}"
                               Text="{smc:BindingEx Path=ten_bp, Path2=ten_bp2}" />-->

                    <!--Mã sản phẩm-->
                    <TextBlock Text="Mã hàng"
                               Name="tblMa_vt2"
                               Grid.Row="9"
                               Grid.Column="0"                               
                               Style="{StaticResource ContentTextStyle}" />
                    <smc:AutoCompleteTextBox x:Name="txtMa_vt2"
                                             Grid.Column="1"
                                             Grid.Row="9"
                                             TabIndex="33"
                                             Text="{smc:BindingEx Path=ma_vt2}"
                                             ParentControl="{Binding RelativeSource={RelativeSource FindAncestor, AncestorType=Window}}"
                                             SysObj="{Binding Path=BindingSysObj,RelativeSource={RelativeSource FindAncestor, AncestorType=Window}}"
                                             AllowEmty="True"
                                             AllowWrong="False"                                             
                                             ListID="dmvt"
                                             PreviewKeyUp="txtMa_vt2_PreviewKeyUp"
                                             LostFocus="txtMa_vt2_LostFocus"                                                   
                                             Style="{StaticResource AutoCompleteTextBoxEditModeEnable}" />



                    <TextBlock Text="Mã kho"
                               Name="tblma_kho2"
                               Grid.Row="9"
                               Grid.Column="2"
                               Margin="12,0,0,0"
                               Style="{StaticResource ContentTextStyle}" />
                    <smc:AutoCompleteTextBox x:Name="txtMa_kho2"
                                             Height="20"
                                 Grid.Column="3"
                                 Grid.Row="9"
                                 TabIndex="36"
                                 Text="{smc:BindingEx Path=ma_kho2}"
                                 ParentControl="{Binding RelativeSource={RelativeSource FindAncestor, AncestorType=Window}}"
                                 SysObj="{Binding Path=BindingSysObj,RelativeSource={RelativeSource FindAncestor, AncestorType=Window}}"
                                 Filter="{Binding DK_MA_DVCS,RelativeSource={RelativeSource FindAncestor, AncestorType=Window}}"            
                                 AllowEmty="True"
                                 AllowWrong="True"
                                 IsTabStop="True"
                                 ListID="dmkho"
                                 GotFocus="txtMa_kho2_GotFocus"
                                 Style="{StaticResource AutoCompleteTextBoxEditModeEnable}"
                                 PreviewLostFocus="txtMa_kho2_PreviewLostFocus">
                    </smc:AutoCompleteTextBox>

                    <!--so_luong05-->
                    <TextBlock Text="Số lượng"
                               Name="tblSo_luong"
                               Grid.Row="9"
                               Grid.Column="4"           
                               Margin="30,0,0,0"
                               HorizontalAlignment="Left"
                               Style="{StaticResource ContentTextStyle}" />
                    <smc:NumericTextBox Name="txtSo_luong05"
                                        Grid.Column="5"
                                        Grid.Row="9"
                                        TabIndex="37"
                                        IsEnabled="True"
                                        IsTabStop="True"                                                
                                        VerticalAlignment="Center"                                        
                                        Style="{StaticResource NumericTextBoxrEditModeEnable}"
                                        Format="{Binding Path=Text, Source={StaticResource Voucher_Ma_nt0}, Mode=OneWay, Converter={StaticResource MaskNumeric}, ConverterParameter=M_IP_SL}"                                        
                                        Value="{smc:BindingEx so_luong05}"                                                                                                                        
                                        GotFocus="txtSo_luong05_GotFocus"
                                        LostFocus="txtSo_luong05_LostFocus"/>

                    <Button Name="btnOk" 
                            Content="_OK"
                            Width="75"
                            TabIndex="40"                            
                            Click="btnOk_Click" Margin="528.5,0,12.5,10.438" VerticalAlignment="Bottom"/>
                    <!--Gia_nt05-->
                    <TextBlock Text="Đơn giá"
                               Name="tblgia_nt05"
                               Grid.Row="10"
                               Grid.Column="0"                                   
                               Style="{StaticResource ContentTextStyle}" />
                    <smc:NumericTextBox Name="txtGia_nt05"
                                        Grid.Column="1"
                                        Grid.Row="10"
                                        TabIndex="38"
                                        IsEnabled="True"
                                        IsTabStop="True"                                        
                                        VerticalAlignment="Center"   
                                        LostFocus="txtGia_nt05_LostFocus"
                                        GotFocus="txtgia_nt05_GotFocus"
                                        Style="{StaticResource NumericTextBoxrEditModeEnable}"
                                        Format="{Binding Path=Text, Source={StaticResource Voucher_Ma_nt0}, Mode=OneWay, Converter={StaticResource MaskNumeric}, ConverterParameter=M_IP_GIA}"                                        
                                        Value="{smc:BindingEx gia_nt05}"/>

                    <!--Gia_nt05-->
                    <TextBlock Text="Thành tiền"
                               Name="tbltien_nt05"
                               Grid.Row="10"
                               Grid.Column="2"                                   
                               Margin="12,0,0,0"
                               Style="{StaticResource ContentTextStyle}" />
                    <smc:NumericTextBox Name="txtTien_nt05"
                                        Grid.Column="3"
                                        Grid.Row="10"                                        
                                        TabIndex="80"
                                        IsEnabled="False"
                                        IsTabStop="False"                                        
                                        VerticalAlignment="Center"
                                        Style="{StaticResource NumericTextBoxrEditModeEnable}"
                                        Format="{Binding Path=Text, Source={StaticResource Voucher_Ma_nt0}, Mode=OneWay, Converter={StaticResource MaskNumeric}, ConverterParameter=M_IP_GIA}"                                        
                                        Value="{smc:BindingEx tien_nt05}"/>

                    <!--Gia_nt05-->
                    <TextBlock Text="Tồn kho"
                               Name="tblton_05"
                               Grid.Row="10"
                               Grid.Column="4"                                   
                               Margin="30,0,0,0"
                               Style="{StaticResource ContentTextStyle}" />
                    <smc:NumericTextBox Name="txtton_05"
                                        Grid.Column="5"
                                        Grid.Row="10"                                        
                                        TabIndex="80"
                                        IsEnabled="False"
                                        IsTabStop="False"                                        
                                        VerticalAlignment="Center"
                                        Style="{StaticResource NumericTextBoxrEditModeEnable}"
                                        Format="{Binding Path=Text, Source={StaticResource Voucher_Ma_nt0}, Mode=OneWay, Converter={StaticResource MaskNumeric}, ConverterParameter=M_IP_GIA}"                                        
                                        Value="{smc:BindingEx ton_05}"/>
                </smc:GridLayout>
            </GroupBox>

            <!--Chung tu-->
            <GroupBox Name="gbVoucher"
                      Header="Thông tin xe"
                      Grid.Column="4"
                      Grid.Row="0">
                <smc:GridLayout ColumnCount="4"
                                ColumnWidths="5*,40,40,80"
                                HeightPerRow="25"
                                RowCount="12"
                                Margin="0"
                                Name="GrdVoucher">

                    <!--ngay lap phieu-->
                    <!--<smc:DateTextBox x:Name="txtngay_lct"
                                     Grid.Column="2"
                                     Grid.Row="1"
                                     TabIndex="60"
                                     Value="{smc:BindingEx Path=ngay_lct}"
                                     GotFocus="txtngay_lct_GotFocus"
                                     LostFocus="txtngay_lct_LostFocus">
                        <smc:DateTextBox.Style>
                            <Style TargetType="{x:Type smc:DateTextBox}"
                                   BasedOn="{StaticResource DateTextBoxStyle}">
                                <Setter Property="IsReadOnly">
                                    <Setter.Value>
                                        <Binding Converter="{StaticResource ReadOnlyPH}"
                                                 ConverterParameter="ngay_lct"
                                                 Mode="OneWay"
                                                 Source="{StaticResource IsInEditMode}"
                                                 Path="Value">
                                        </Binding>
                                    </Setter.Value>
                                </Setter>
                                <Setter Property="IsTabStop"
                                        Value="True" />
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding Path=IsReadOnly, ElementName=txtngay_lct}"
                                                 Value="True">
                                        <Setter Property="IsTabStop"
                                                Value="False" />
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </smc:DateTextBox.Style>
                    </smc:DateTextBox>-->
                    <!--quyen so-->


                    <TextBlock Text="Lái xe"
                               Name="tbllaixe"
                               Grid.Row="0"
                               Grid.Column="0"
                               Style="{StaticResource ContentTextStyle}" />
                    <TextBox x:Name="txtOng_ba"
                             Height="20"
                             Grid.Column="1"
                             IsReadOnly="False"
                             Grid.Row="0"
                              Grid.ColumnSpan="3"
                             TabIndex="20"
                             Text="{smc:BindingEx Path=ong_ba}"
                             Style="{StaticResource NguoiMuaEditModeEnable}"
                             />

                    <TextBlock Text="ĐT lái xe"
                               Name="tbldtlaixe"
                               Grid.Row="1"
                               Grid.Column="0"
                               Style="{StaticResource ContentTextStyle}" />
                    <TextBox x:Name="txtdt_lx"
                             Height="20"
                             Grid.Column="1"
                             Grid.Row="1"
                             IsReadOnly="False"
                             Grid.ColumnSpan="3"
                             TabIndex="20"
                             Text="{smc:BindingEx Path=dt_lx}"
                             GotFocus="txtdt_lx_GotFocus"
                             LostFocus="Txtdt_laixeLosfocus"
                             Style="{StaticResource NguoiMuaEditModeEnable}"
                             />

                    <TextBlock Text="Biển số"
                               Name="tblbien_so"
                               Grid.Row="2"
                               Grid.Column="0"
                               Style="{StaticResource ContentTextStyle}" />
                    <TextBox x:Name="txtbien_so"
                             Height="20"
                             Grid.Column="1"
                             Grid.Row="2"
                             Grid.ColumnSpan="3"
                             Background="Silver"
                             IsEnabled="True"
                             IsReadOnly="True"
                             TabIndex="20"
                             Text="{smc:BindingEx Path=bien_so}"
                             Style="{StaticResource NguoiMuaEditModeEnable}"
                             />

                    <TextBlock Text="Loại xe"
                               Name="tblloai_xe"
                               Grid.Row="3"
                               Grid.Column="0"
                               Style="{StaticResource ContentTextStyle}" />
                    <TextBox x:Name="txtloai_xe"
                             Height="20"
                             Grid.Column="1"
                             IsReadOnly="True"
                             Grid.Row="3"
                             Background="Silver"
                             IsEnabled="False"
                             Grid.ColumnSpan="2"
                             TabIndex="20"
                             Text="{smc:BindingEx Path=loai_xe}"
                             Style="{StaticResource NguoiMuaEditModeEnable}"
                             />
                    <TextBox x:Name="txtmodel"
                             Height="20"
                             Grid.Column="3"
                             Grid.Row="3"
                             Grid.ColumnSpan="2"
                             Background="Silver"
                             IsEnabled="False"
                             TabIndex="20"
                             Text="{smc:BindingEx Path=model}"
                             Style="{StaticResource NguoiMuaEditModeEnable}"
                             />


                    <TextBlock Text="Số khung"
                               Name="tblsokhung"
                               Grid.Row="4"
                               Grid.Column="0"
                               Style="{StaticResource ContentTextStyle}" />
                    <TextBox x:Name="txtso_khung"
                             Height="20"
                             Grid.Column="1"
                             Grid.Row="4"
                             IsReadOnly="True"
                             Background="Silver"
                             IsEnabled="True"
                             Grid.ColumnSpan="3"
                             TabIndex="20"
                             Text="{smc:BindingEx Path=so_khung}"
                             Style="{StaticResource NguoiMuaEditModeEnable}"
                             />
                    <Button Name="btncheck_ct" Grid.Column="0" Grid.Row="4" Width="75" Height="23"
                                    Content="Check" Margin="30,0,0,0" Click="btncheck_ct_Click" 
                                    Style="{StaticResource ButtonEnabled}"/>
                    <TextBlock Text="Số máy"
                               Name="tblsomay"
                               Grid.Row="5"
                               Grid.Column="0"
                               Style="{StaticResource ContentTextStyle}" />

                    <TextBox x:Name="txtso_may"
                             Height="20"
                             Grid.Column="1"
                             Grid.Row="5"
                             IsReadOnly="True"
                             Background="Silver"
                             IsEnabled="True"
                             Grid.ColumnSpan="3"
                             TabIndex="20"
                             Text="{smc:BindingEx Path=so_may}"
                             Style="{StaticResource NguoiMuaEditModeEnable}"
                             />
                    <TextBlock Text="BH TNDS"
                               Name="tblbh_tnds"
                               Grid.Row="6"
                               Grid.Column="0"
                               Style="{StaticResource ContentTextStyle}" />

                    <smc:DateTextBox x:Name="txtbh_tnds"
                                     Height="20"
                                     AllowEmpty="True"
                                     Grid.Column="1"
                                     Grid.Row="6"
                                     Grid.ColumnSpan="3"
                                     TabIndex="50"
                                     Value="{smc:BindingEx Path=ngay_bh_tndc}"
                                     Style="{StaticResource DateTextBoxEditModeEnable}"
                                     />
                    <TextBlock Text="BH vật chất"
                               Name="tblbh_tn"
                               Grid.Row="7"
                               Grid.Column="0"
                               Style="{StaticResource ContentTextStyle}" />

                    <smc:DateTextBox x:Name="txtbh_tn"
                                     Height="20"
                                     AllowEmpty="True"
                                     Grid.Column="1"
                                     Grid.Row="7"
                                     TabIndex="50"
                                      Grid.ColumnSpan="3"
                                     Value="{smc:BindingEx Path=ngay_bh_tn}"
                                     Style="{StaticResource DateTextBoxEditModeEnable}"
                                     />
                    <TextBlock Text="Ngày đăng kiểm"
                               Name="tbldang_kiem"
                               Grid.Row="8"
                               Grid.Column="0"
                               Style="{StaticResource ContentTextStyle}" />

                    <smc:DateTextBox x:Name="txtdang_kiem"
                                     Height="20"
                                     AllowEmpty="True"
                                     Grid.Column="1"
                                     Grid.Row="8"
                                     TabIndex="50"
                                      Grid.ColumnSpan="3"
                                     Value="{smc:BindingEx Path=ngay_dang_kiem}"
                                     Style="{StaticResource DateTextBoxEditModeEnable}"
                                     />

                    <TextBlock Text="Số KM"
                               Name="tblso_contemet"
                               Grid.Row="9"
                               Grid.Column="0"
                               Style="{StaticResource ContentTextStyle}" />
                    <smc:NumericTextBox Name="txtSo_contermet"
                                        Grid.Column="1"
                                        Grid.Row="9"
                                        TabIndex="50"
                                        Grid.ColumnSpan="3"
                                        IsEnabled="True"
                                        IsTabStop="True"    
                                        VerticalAlignment="Center"                                        
                                        Style="{StaticResource NumericTextBoxrEditModeEnable}"
                                        Format="{Binding Path=Text, Source={StaticResource Voucher_Ma_nt0}, Mode=OneWay, Converter={StaticResource MaskNumeric}, ConverterParameter=M_IP_SL}"                                        
                                        Value="{smc:BindingEx so_contermet}"   />


                    <TextBlock Text="Tuyến đường"
                               Name="tbltuyen_duong"
                               Grid.Row="10"
                               Grid.Column="0"
                               Style="{StaticResource ContentTextStyle}" />
                    <TextBox Name="txttuyen_duong"
                             Height="20"
                             IsTabStop="True" 
                             TabIndex="50"
                             Text="{smc:BindingEx Path=tuyen_duong}"
                             Grid.Column="1"
                             Grid.Row="10"
                             Grid.ColumnSpan="3"/>

                    <TextBlock Text="Loại thùng hàng"
                               Name="tblloai_thung"
                               Grid.Row="11"
                               Margin="0,0,0,0"
                               Grid.Column="0"
                               Style="{StaticResource ContentTextStyle}" />
                    <smc:AutoCompleteTextBox x:Name="txtma_td"
                                             Height="20"
                                 Grid.Column="1"
                                 Grid.Row="11"
                                 TabIndex="50"
                                 Grid.ColumnSpan="3"
                                 Text="{smc:BindingEx Path=ma_td1}"
                                 ParentControl="{Binding RelativeSource={RelativeSource FindAncestor, AncestorType=Window}}"
                                 SysObj="{Binding Path=BindingSysObj,RelativeSource={RelativeSource FindAncestor, AncestorType=Window}}"
                                 AllowEmty="True"
                                 AllowWrong="False"
                                 IsTabStop="False"
                                 ListID="dmtd0"
                                 GotFocus="txtMa_td_GotFocus"
                                 Style="{StaticResource AutoCompleteTextBoxEditModeEnable}"
                                 PreviewLostFocus="txtMa_td_PreviewLostFocus"
                                             Loaded="txtMa_bp_Loaded">
                    </smc:AutoCompleteTextBox>

                    <TextBlock Grid.Row="3"
                               Grid.Column="0"
                               Grid.ColumnSpan="2"
                               Visibility="Hidden"
                               Name="tblso_ct_me"
                               Text="Số đh mẹ"
                               Style="{StaticResource ContentTextStyle}" />
                    <smc:AutoCompleteTextBox x:Name="txtSo_ct_me"
                                 Grid.Column="1"
                                 Height="20"
                                 Grid.Row="3"
                                 TabIndex="82"
                                             Visibility="Hidden"
                                             Grid.ColumnSpan="3"
                                 Text="{smc:BindingEx Path=ma_hd_me}"
                                 ParentControl="{Binding RelativeSource={RelativeSource FindAncestor, AncestorType=Window}}"
                                 SysObj="{Binding Path=BindingSysObj,RelativeSource={RelativeSource FindAncestor, AncestorType=Window}}"
                                 AllowEmty="True"
                                 AllowWrong="False"
                                 ListID="dmhd"
                                 Style="{StaticResource AutoCompleteTextBoxEditModeEnable}"
                                 PreviewLostFocus="txtSo_ct_me_PreviewLostFocus">
                    </smc:AutoCompleteTextBox>

                    <!--<TextBox x:Name="txtSo_ct_me"
                             Grid.Column="2"
                             Grid.Row="3"
                             TabIndex="82"
                             IsTabStop="False"
                             Text="{smc:BindingEx Path=ma_hdm_me}"
                             CharacterCasing="Upper"
                             Style="{StaticResource TextBoxEditModeEnable}">
                    </TextBox>-->

                    <smc:GridLayout Name="GrdLayoutNT"
                                    Grid.Row="4"
                                    Grid.Column="0"
                                    Grid.ColumnSpan="4"
                                    Visibility="Hidden"
                                    ColumnCount="3"
                                    ColumnWidths="75,43,140,30"
                                    >
                        <TextBlock Grid.Row="4"
                                   Grid.Column="0"
                                   Name="tblTy_gia"
                                   Text="Tỷ giá"
                                   Style="{StaticResource ContentTextStyle}" />
                        <smc:AutoCompleteTextBox Name="cbMa_nt"
                                                 Grid.Column="1"
                                                 Height="20"
                                                 Grid.Row="4"
                                                 Margin="0,0,5,0"
                                                 Text="{smc:BindingEx Path=ma_nt}"
                                                 ParentControl="{Binding RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type Window}}}"
                                                 SysObj="{Binding Path=BindingSysObj, RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type Window}}}"
                                                 AllowEmty="False"
                                                 AllowWrong="False"
                                                 ListID="dmnt"
                                                 IsTabStop="False"
                                                 Style="{StaticResource AutoCompleteTextBoxEditModeEnable}"
                                                 PreviewLostFocus="cbMa_nt_PreviewLostFocus"
                                                 TabIndex="83">
                        </smc:AutoCompleteTextBox>

                        <smc:ExRateTextBox x:Name="txtTy_gia"
                                           Height="20"
                                           Grid.Row="4"
                                           Grid.Column="2"
                                           Grid.ColumnSpan="2"
                                           FontWeight="Normal"
                                           IsReadOnly="True"
                                           IsAlwaysInEditMode="True"
                                           RateF="{smc:BindingEx Path=ty_giaf}"
                                           Rate="{smc:BindingEx Path=ty_gia}"
                                           KindRate="{smc:BindingEx Path=loai_tg}"
                                           TabIndex="82"
                                           Format="{Binding Path=Text, Source={StaticResource Voucher_Ma_nt0}, Mode=OneWay, Converter={StaticResource MaskNumeric}, ConverterParameter=M_IP_TY_GIA}"
                                           GotFocus="txtTy_gia_GotFocus"
                                           LostFocus="txtTy_gia_LostFocus">
                            <smc:ExRateTextBox.Style>
                                <Style  TargetType="{x:Type smc:ExRateTextBox}"
                                        BasedOn="{StaticResource ExRateTextBoxStyle}">
                                    <Setter Property="smc:ExRateTextBox.IsReadOnly"
                                            Value="True" />
                                    <Style.Triggers>
                                        <MultiDataTrigger>
                                            <MultiDataTrigger.Conditions>
                                                <Condition Binding="{smc:BindingEx Path=Value, Source={StaticResource IsInEditMode}}"
                                                           Value="True" />
                                                <Condition Binding="{smc:BindingEx Path=Value, Source={StaticResource Voucher_Ma_nt0}}"
                                                           Value="False" />
                                            </MultiDataTrigger.Conditions>
                                            <Setter Property="smc:ExRateTextBox.IsReadOnly"
                                                    Value="False" />

                                        </MultiDataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </smc:ExRateTextBox.Style>
                        </smc:ExRateTextBox>
                    </smc:GridLayout>

                    <!--chọn hdm-->
                    <!--<Button Content="_Get datetime" Grid.Row="8"  Grid.Column="0" Grid.ColumnSpan="1" Height="20" Width="80" Click="get_time" Name="btnget_date" />-->

                    <!--ngay hoach toan-->

                </smc:GridLayout>
            </GroupBox>
        </smc:GridLayout>

        <smc:GridLayout Grid.Row="2"
                        Grid.Column="0"
                        Margin="12,0,12,4"
                        Name="GrdLayout33"
                        KeyboardNavigation.TabIndex="120"
                        KeyboardNavigation.TabNavigation="Local">

            <igWindows:XamTabControl x:Name="TabInfo"
                                     Grid.Row="0"
                                     Grid.Column="0"
                                     Theme="Generic"
                                     Background="{x:Null}">
                <igWindows:XamTabControl.BorderBrush>
                    <SolidColorBrush Color="#FFD0D0BF"
                                     igThemes:ResourceWasher.WashGroup="Selected" />
                </igWindows:XamTabControl.BorderBrush>
                <igWindows:XamTabControl.Resources>
                    <Style TargetType="{x:Type igWindows:TabItemEx}"
                           BasedOn="{StaticResource TabItemStyle}">
                    </Style>
                </igWindows:XamTabControl.Resources>

                <igWindows:TabItemEx Header="_1. Hàng hóa"
                                     x:Name="tiHT"
                                     TabIndex="120"
                                     Background="{x:Null}">
                    <igWindows:TabItemEx.BorderBrush>
                        <SolidColorBrush Color="#FFD0D0BF"
                                         igThemes:ResourceWasher.WashGroup="BaseColor" />
                    </igWindows:TabItemEx.BorderBrush>
                    <!--<smc:ExTabControl Margin="0,0,0,0"
                                  Name="TabInfo"
                                  Theme="Office2k7Blue"
                                  >
                    <smc:ExTabItem Header="_1.Hạch toán"
                                   x:Name="tiHT"
                                   TabIndex="110"
                                   Style="{DynamicResource {x:Type igWindows:TabItemEx}}">-->

                    <smc:GridLayout Margin="0" Name="GrdLayout50">
                        <smc:DataGridView x:Name="GrdCt"
                                          TabIndex="120"
                                          PreviewEditModeEnded="GrdCt_EditModeEnded"
                                          AddNewRecord="GrdCt_AddNewRecord"
                                          RecordDelete="GrdCt_RecordDelete"
                                          IsVoucher="True"
                                          KeyUp="GrdCt_KeyUp"
                                          Tag="{Binding Path=Value, Source={StaticResource IsInEditMode}}"
                                          KeyDown="GrdCt_KeyDown" Margin="1.167,-0.5,-1.167,0.5" EditModeEnding="GrdCt_EditModeEnding" CellUpdating="GrdCt_CellUpdating">
                            <smc:DataGridView.Resources>
                                <DataTemplate x:Key="ControlSearchMaVatTu">
                                    <smc:AutoCompleteTextBox 
                                                                 nRow="6"
                                                                 IsBorderTextBox="False"
                                                                 AllowEmty="False"
                                                                 AllowWrong="False"
                                                                 Style="{StaticResource AutoCompleteTextBoxEditModeEnable}"
                                                                 ParentControl="{Binding RelativeSource={RelativeSource FindAncestor, AncestorType=Window}}"
                                                                 SysObj="{Binding BindingSysObj,RelativeSource={RelativeSource FindAncestor, AncestorType=Window}}"
                                                                 Text="{smc:BindingEx RelativeSource={RelativeSource AncestorType={x:Type igDP:CellValuePresenter}, Mode=FindAncestor}, 
                                                                    Path=Value, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                                 ListID="dmvt" />
                                </DataTemplate>
                                <DataTemplate x:Key="ControlSearchKhoHang">
                                    <smc:AutoCompleteTextBox 
                                                                 nRow="6"
                                                                 AllowEmty="True"
                                                                 AllowWrong="False"
                                                                 IsBorderTextBox="False"
                                                                 Style="{StaticResource AutoCompleteTextBoxEditModeEnable}"
                                                                 ParentControl="{Binding RelativeSource={RelativeSource FindAncestor, AncestorType=Window}}"
                                                                 SysObj="{Binding BindingSysObj,RelativeSource={RelativeSource FindAncestor, AncestorType=Window}}"
                                                                 Text="{smc:BindingEx RelativeSource={RelativeSource AncestorType={x:Type igDP:CellValuePresenter}, Mode=FindAncestor}, 
                                                                        Path=Record.DataItem.ma_kho_i, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                                 Filter="{Binding DK_MA_DVCS,RelativeSource={RelativeSource FindAncestor, AncestorType=Window}}"
                                                                 ListID="dmkho" />
                                </DataTemplate>

                                <DataTemplate x:Key="ControlSearchVuViec">
                                    <smc:AutoCompleteTextBox 
                                                                 nRow="6"
                                                                 AllowEmty="True"
                                                                 IsBorderTextBox="False"
                                                                 Style="{StaticResource AutoCompleteTextBoxEditModeEnable}"
                                                                 ParentControl="{Binding RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type Window}}}"
                                                                 SysObj="{Binding Path=BindingSysObj, RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type Window}}}"
                                                                 Text="{smc:BindingEx Path=Value, RelativeSource={RelativeSource AncestorType={x:Type igDP:CellValuePresenter}, Mode=FindAncestor}}"
                                                                 ListID="dmvv" />
                                </DataTemplate>

                                <!--<DataTemplate x:Key="ControlSearchMaPhi">
                                    <smc:AutoCompleteTextBox 
                                                             nRow="6"
                                                             AllowEmty="True"
                                                             IsBorderTextBox="False"
                                                             Style="{StaticResource AutoCompleteTextBoxEditModeEnable}"
                                                             ParentControl="{Binding RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type Window}}}"
                                                             SysObj="{Binding Path=BindingSysObj, RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type Window}}}"
                                                             Text="{smc:BindingEx Path=Value, RelativeSource={RelativeSource AncestorType={x:Type igDP:CellValuePresenter}, Mode=FindAncestor}}"
                                                             ListID="dmphi" />
                                </DataTemplate>-->
                                <DataTemplate x:Key="ControlSearchMaThue">
                                    <smc:AutoCompleteTextBox                                                          
                                                             nRow="6"
                                                             IsBorderTextBox="False"
                                                             AllowEmty="True"
                                                             AllowWrong="False"
                                                             Style="{StaticResource AutoCompleteTextBoxEditModeEnable}"
                                                             ParentControl="{Binding RelativeSource={RelativeSource FindAncestor, AncestorType=Window}}"
                                                             SysObj="{Binding BindingSysObj,RelativeSource={RelativeSource FindAncestor, AncestorType=Window}}"
                                                             Text="{Binding RelativeSource={RelativeSource AncestorType={x:Type igDP:CellValuePresenter}, Mode=FindAncestor}, 
                                                             Path=Value, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                             ListID="dmthue30" />
                                </DataTemplate>
                            </smc:DataGridView.Resources>
                            <smc:DataGridView.FieldSettings>
                                <igDP:FieldSettings  SummaryDisplayArea="BottomFixed"
                                                         SummaryUIType="MultiSelect"
                                                         Height="23"
                                                         AllowEdit="True"
                                                        />

                            </smc:DataGridView.FieldSettings>
                            <smc:DataGridView.FieldLayoutSettings>
                                <igDP:FieldLayoutSettings HeaderPrefixAreaStyle="{StaticResource StyleHeaderPrefixArea}"
                                                              RecordSelectorStyle="{StaticResource StyleRecordSelector}"
                                                              AutoGenerateFields="False"
                                                              AllowDelete="False" />
                            </smc:DataGridView.FieldLayoutSettings>
                            <smc:DataGridView.FieldLayouts>
                                <igDP:FieldLayout>
                                    <igDP:FieldLayout.SummaryDefinitions>

                                        <smc:ExSummaryDefinition SourceFieldName="ton13"
                                                                     Calculator="Sum"
                                                                     Format="{Binding Path=Text, Source={StaticResource Voucher_Ma_nt0}, Mode=OneWay, Converter={StaticResource MaskNumeric}, ConverterParameter=M_IP_SL}" />

                                        <smc:ExSummaryDefinition SourceFieldName="so_luong"
                                                                     Calculator="Sum"
                                                                     Format="{Binding Path=Text, Source={StaticResource Voucher_Ma_nt0}, Mode=OneWay, Converter={StaticResource MaskNumeric}, ConverterParameter=M_IP_SL}" />

                                        <smc:ExSummaryDefinition SourceFieldName="tien_nt"
                                                                     Calculator="Sum"
                                                                     Format="{Binding Path=Text, Source={StaticResource Voucher_Ma_nt0}, Mode=OneWay, Converter={StaticResource MaskNumeric}, ConverterParameter=M_IP_TIEN_NT}" />

                                        <smc:ExSummaryDefinition SourceFieldName="tien"
                                                                     Calculator="Sum"
                                                                     Format="{Binding Path=Text, Source={StaticResource Voucher_Ma_nt0}, Mode=OneWay, Converter={StaticResource MaskNumeric}, ConverterParameter=M_IP_TIEN}" />
                                        <smc:ExSummaryDefinition SourceFieldName="tien_nt2"
                                                                     Calculator="Sum"
                                                                     Format="{Binding Path=Text, Source={StaticResource Voucher_Ma_nt0}, Mode=OneWay, Converter={StaticResource MaskNumeric}, ConverterParameter=M_IP_TIEN_NT}" />

                                        <smc:ExSummaryDefinition SourceFieldName="tien2"
                                                                     Calculator="Sum"
                                                                     Format="{Binding Path=Text, Source={StaticResource Voucher_Ma_nt0}, Mode=OneWay, Converter={StaticResource MaskNumeric}, ConverterParameter=M_IP_TIEN}" />
                                        <smc:ExSummaryDefinition SourceFieldName="thue"
                                                                     Calculator="Sum"
                                                                     Format="{Binding Path=Text, Source={StaticResource Voucher_Ma_nt0}, Mode=OneWay, Converter={StaticResource MaskNumeric}, ConverterParameter=M_IP_TIEN}" />
                                        <smc:ExSummaryDefinition SourceFieldName="thue_nt"
                                                                     Calculator="Sum"
                                                                     Format="{Binding Path=Text, Source={StaticResource Voucher_Ma_nt0}, Mode=OneWay, Converter={StaticResource MaskNumeric}, ConverterParameter=M_IP_TIEN_NT}" />
                                        <smc:ExSummaryDefinition SourceFieldName="ck"
                                                                     Calculator="Sum"
                                                                     Format="{Binding Path=Text, Source={StaticResource Voucher_Ma_nt0}, Mode=OneWay, Converter={StaticResource MaskNumeric}, ConverterParameter=M_IP_TIEN}" />
                                        <smc:ExSummaryDefinition SourceFieldName="ck_nt"
                                                                     Calculator="Sum"
                                                                     Format="{Binding Path=Text, Source={StaticResource Voucher_Ma_nt0}, Mode=OneWay, Converter={StaticResource MaskNumeric}, ConverterParameter=M_IP_TIEN_NT}" />


                                    </igDP:FieldLayout.SummaryDefinitions>
                                    <smc:NotEmptyField Name="ma_vt"
                                                           Label="Mã vật tư"
                                                           FixedLocation="FixedToNearEdge"
                                                           Width="100">
                                        <igDP:Field.Settings>
                                            <igDP:FieldSettings LabelTextAlignment="Center"
                                                                    AllowSummaries="False">
                                                <igDP:FieldSettings.EditorStyle>
                                                    <Style TargetType="{x:Type smc:ControlHostEditor}">
                                                        <Setter Property="EditDataTemplate"
                                                                    Value="{StaticResource ControlSearchMaVatTu}" />
                                                        <Setter Property="Template"
                                                                    Value="{Binding Path = EditTemplate, RelativeSource={RelativeSource Self}}" />
                                                    </Style>
                                                </igDP:FieldSettings.EditorStyle>
                                            </igDP:FieldSettings>
                                        </igDP:Field.Settings>
                                    </smc:NotEmptyField>
                                    
                                    <igDP:Field Label="Tên vật tư"
                                            Name="ten_vt"
                                            FixedLocation="FixedToNearEdge"
                                            Width="180">
                                        <igDP:Field.Visibility>
                                            <MultiBinding Converter="{StaticResource VisibilityConverter}"
                                                              ConverterParameter="LANV">
                                                <Binding Path="Value" Source="{StaticResource Voucher_Lan0}"/>
                                            </MultiBinding>
                                        </igDP:Field.Visibility>
                                        <igDP:Field.Settings>
                                            <igDP:FieldSettings AllowEdit="False"
                                                            LabelTextAlignment="Center"
                                                            EditAsType="{x:Type System:String}" />
                                        </igDP:Field.Settings>
                                    </igDP:Field>
                                    <igDP:Field Label="Tên vật tư"
                                            Name="ten_vt2"
                                            FixedLocation="FixedToNearEdge"
                                            Width="180">
                                        <igDP:Field.Visibility>
                                            <MultiBinding Converter="{StaticResource VisibilityConverter}"
                                                              ConverterParameter="LANE">
                                                <Binding Path="Value" Source="{StaticResource Voucher_Lan0}"/>
                                            </MultiBinding>
                                        </igDP:Field.Visibility>
                                        <igDP:Field.Settings>
                                            <igDP:FieldSettings AllowEdit="False"
                                                            LabelTextAlignment="Center"
                                                            EditAsType="{x:Type System:String}" />
                                        </igDP:Field.Settings>
                                    </igDP:Field>

                                    <igDP:Field Label="Đvt"
                                                    Name="dvt"
                                                    Width="50">
                                        <igDP:Field.Settings>
                                            <igDP:FieldSettings AllowEdit="False"
                                                                    LabelTextAlignment="Center"
                                                                    AllowSummaries="False"
                                                                    EditAsType="{x:Type System:String}" />
                                        </igDP:Field.Settings>
                                    </igDP:Field>

                                    <igDP:Field Label="Mã tra cứu"
                                                    Name="ma_tra_cuu"
                                                    Width="120">
                                        <igDP:Field.Settings>
                                            <igDP:FieldSettings AllowEdit="false"
                                                                    LabelTextAlignment="Center"
                                                                    AllowSummaries="False"
                                                                    EditAsType="{x:Type System:String}" />
                                        </igDP:Field.Settings>
                                    </igDP:Field>

                                    <igDP:Field Label="Số lượng"
                                                    Name="so_luong"
                                                    Width="70">
                                        <igDP:Field.Settings>
                                            <igDP:FieldSettings LabelTextAlignment="Center"
                                                                    AllowSummaries="True"
                                                                   >
                                                <igDP:FieldSettings.EditorStyle>
                                                    <Style TargetType="{x:Type smc:NumericTextBox}">
                                                        <Setter Property="Format"
                                                                Value="{Binding Path=Text, Source={StaticResource Voucher_Ma_nt0}, Mode=OneWay, Converter={StaticResource MaskNumeric}, ConverterParameter=M_IP_SL}" />
                                                        <Setter Property="IsReadOnly"
                                                            Value="{smc:BindingEx Path=Value, Source={StaticResource IsInEditMode}, Converter={StaticResource BoolInverter}}" />
                                                    </Style>
                                                </igDP:FieldSettings.EditorStyle>
                                            </igDP:FieldSettings>
                                        </igDP:Field.Settings>
                                    </igDP:Field>

                                    <igDP:Field Label="Giá bán"
                                                    Name="gia_nt2"
                                                    Width="90">
                                        <igDP:Field.Settings>
                                            <igDP:FieldSettings 
                                                                    LabelTextAlignment="Center"
                                                                    AllowSummaries="False"
                                                                 
                                                                    >
                                                <igDP:FieldSettings.EditorStyle>
                                                    <Style TargetType="{x:Type smc:NumericTextBox}">
                                                        <Setter Property="IsReadOnly">
                                                            <Setter.Value>
                                                                <MultiBinding Converter="{StaticResource ReadOnlyConverter}"
                                                                                  ConverterParameter="CT;gia_nt2">
                                                                    <Binding RelativeSource="{RelativeSource AncestorType={x:Type igDP:CellValuePresenter}, Mode=FindAncestor}"
                                                                                 Path="Record.Cells[so_luong].Value"
                                                                                 Mode="OneWay" />
                                                                    <Binding Path="Value"
                                                                         Source="{StaticResource IsInEditMode}"
                                                                         Mode="OneWay" />

                                                                </MultiBinding>
                                                            </Setter.Value>
                                                        </Setter>
                                                        <Setter Property="Format"
                                                                Value="{Binding Path=Text, Source={StaticResource Voucher_Ma_nt0}, Mode=OneWay, Converter={StaticResource MaskNumeric}, ConverterParameter=M_IP_GIA_NT}" />
                                                    </Style>
                                                </igDP:FieldSettings.EditorStyle>
                                            </igDP:FieldSettings>
                                        </igDP:Field.Settings>
                                    </igDP:Field>
                                    <igDP:Field Label="Thành tiền"
                                                    Name="tien_nt2"
                                                    Width="100">
                                        <igDP:Field.Settings>
                                            <igDP:FieldSettings LabelTextAlignment="Center"
                                                                    AllowSummaries="True"
                                                                     
                                                                    >
                                                <igDP:FieldSettings.EditorStyle>
                                                    <Style TargetType="{x:Type smc:NumericTextBox}">
                                                        <Setter Property="IsReadOnly">
                                                            <Setter.Value>
                                                                <MultiBinding Converter="{StaticResource ReadOnlyConverter}"
                                                                                  ConverterParameter="CT;tien_nt2">
                                                                    <Binding RelativeSource="{RelativeSource AncestorType={x:Type igDP:CellValuePresenter}, Mode=FindAncestor}"
                                                                                 Path="Record.Cells[so_luong].Value"
                                                                                 Mode="OneWay" />
                                                                    <Binding RelativeSource="{RelativeSource AncestorType={x:Type igDP:CellValuePresenter}, Mode=FindAncestor}"
                                                                                 Path="Record.Cells[gia_nt2].Value"
                                                                                 Mode="OneWay" />
                                                                    <Binding Path="Value"
                                                                                 Source="{StaticResource IsCheckedSua_tien}"
                                                                                 Mode="OneWay" />
                                                                    <Binding Path="Value"
                                                                         Source="{StaticResource IsInEditMode}"
                                                                         Mode="OneWay" />
                                                                </MultiBinding>
                                                            </Setter.Value>
                                                        </Setter>
                                                        <Setter Property="Format"
                                                                Value="{Binding Path=Text, Source={StaticResource Voucher_Ma_nt0}, Converter={StaticResource MaskNumeric}, ConverterParameter=M_IP_TIEN_NT}" />
                                                    </Style>
                                                </igDP:FieldSettings.EditorStyle>
                                            </igDP:FieldSettings>

                                        </igDP:Field.Settings>
                                    </igDP:Field>
                                    <!--<igDP:Field Label="Sl Cung ứng"
                                                    Name="sl_cung_ung"
                                                    Width="90">
                                        <igDP:Field.Settings>
                                            <igDP:FieldSettings LabelTextAlignment="Center"
                                                                    AllowSummaries="True"
                                                                   >
                                                <igDP:FieldSettings.EditorStyle>
                                                    <Style TargetType="{x:Type smc:NumericTextBox}">
                                                        <Setter Property="Format"
                                                                Value="{Binding Path=Text, Source={StaticResource Voucher_Ma_nt0}, Mode=OneWay, Converter={StaticResource MaskNumeric}, ConverterParameter=M_IP_SL}" />
                                                        <Setter Property="IsReadOnly"
                                                            Value="{smc:BindingEx Path=Value, Source={StaticResource IsInEditMode}, Converter={StaticResource BoolInverter}}" />
                                                    </Style>
                                                </igDP:FieldSettings.EditorStyle>
                                            </igDP:FieldSettings>
                                        </igDP:Field.Settings>
                                    </igDP:Field>-->

                                    <igDP:Field Label="Tỷ lệ ck (%)"
                                                    Name="tl_ck"
                                                    Width="70">
                                        <igDP:Field.Settings>
                                            <igDP:FieldSettings LabelTextAlignment="Center"
                                                                    AllowSummaries="False"
                                                                     
                                                                    >
                                                <igDP:FieldSettings.EditorStyle>
                                                    <Style TargetType="{x:Type smc:NumericTextBox}">
                                                        <Setter Property="IsReadOnly">
                                                            <Setter.Value>
                                                                <MultiBinding Converter="{StaticResource ReadOnlyConverter}"
                                                                                  ConverterParameter="CT;tl_ck">
                                                                    <Binding RelativeSource="{RelativeSource AncestorType={x:Type igDP:CellValuePresenter}, Mode=FindAncestor}"
                                                                                 Path="Record.Cells[tien_nt2].Value"
                                                                                 Mode="OneWay" />
                                                                    <Binding Path="Value"
                                                                         Source="{StaticResource IsInEditMode}"
                                                                         Mode="OneWay" />
                                                                </MultiBinding>
                                                            </Setter.Value>
                                                        </Setter>

                                                    </Style>
                                                </igDP:FieldSettings.EditorStyle>
                                            </igDP:FieldSettings>

                                        </igDP:Field.Settings>
                                    </igDP:Field>

                                    <!--<igDP:Field Label="Tỷ lệ chiết khấu"
                                                    Name="tl_ck"
                                                    Width="80">
                                        <igDP:Field.Settings>
                                            <igDP:FieldSettings LabelTextAlignment="Center"
                                                                    AllowSummaries="True"
                                                                    >
                                                <igDP:FieldSettings.EditorStyle>
                                                    <Style TargetType="{x:Type smc:NumericTextBox}">
                                                        <Setter Property="IsReadOnly">
                                                            <Setter.Value>
                                                                <MultiBinding Converter="{StaticResource ReadOnlyConverter}"
                                                                                  ConverterParameter="CT;tl_ck">
                                                                    <Binding RelativeSource="{RelativeSource AncestorType={x:Type igDP:CellValuePresenter}, Mode=FindAncestor}"
                                                                                 Path="Record.Cells[tien_nt2].Value"
                                                                                 Mode="OneWay" />
                                                                  
                                                                </MultiBinding>
                                                            </Setter.Value>
                                                        </Setter>
                                                        <Setter Property="Format"
                                                                Value="{Binding Path=Text, Source={StaticResource Voucher_Ma_nt0}, Mode=OneWay, Converter={StaticResource MaskNumeric}, ConverterParameter=M_IP_GIA_NT}" />
                                                    </Style>
                                                </igDP:FieldSettings.EditorStyle>
                                            </igDP:FieldSettings>
                                        </igDP:Field.Settings>
                                    </igDP:Field>-->

                                    <igDP:Field  Label="Tiền C.khấu"
                                                 Name="ck_nt"
                                                 Width="100">
                                        <igDP:Field.Settings>
                                            <igDP:FieldSettings LabelTextAlignment="Center"
                                                                AllowSummaries="True"  
                                                                >
                                                <igDP:FieldSettings.EditorStyle>
                                                    <Style TargetType="{x:Type smc:NumericTextBox}">
                                                        <Setter Property="IsReadOnly">
                                                            <Setter.Value>
                                                                <MultiBinding Converter="{StaticResource ReadOnlyConverter}"
                                                                                  ConverterParameter="CT;ck_nt">
                                                                    <Binding RelativeSource="{RelativeSource AncestorType={x:Type igDP:CellValuePresenter}, Mode=FindAncestor}"
                                                                                 Path="Record.Cells[tien_nt2].Value"
                                                                                 Mode="OneWay" />
                                                                    <Binding RelativeSource="{RelativeSource AncestorType={x:Type igDP:CellValuePresenter}, Mode=FindAncestor}"
                                                                                 Path="Record.Cells[tl_ck].Value"
                                                                                 Mode="OneWay" />
                                                                    <Binding Path="Value"
                                                                                 Source="{StaticResource IsCheckedSua_tien}"
                                                                                 Mode="OneWay" />
                                                                    <Binding Path="Value"
                                                                         Source="{StaticResource IsInEditMode}"
                                                                         Mode="OneWay" />
                                                                </MultiBinding>
                                                            </Setter.Value>
                                                        </Setter>
                                                        <Setter Property="Format"
                                                                Value="{Binding Path=Text, Source={StaticResource Voucher_Ma_nt0}, Converter={StaticResource MaskNumeric}, ConverterParameter=M_IP_TIEN_NT}" />
                                                    </Style>
                                                </igDP:FieldSettings.EditorStyle>
                                            </igDP:FieldSettings>
                                        </igDP:Field.Settings>
                                    </igDP:Field>

                                    <igDP:Field  Label="Tiền thanh toán"
                                                 Name="tien_s_ck"
                                                 Width="100">
                                        <igDP:Field.Settings>
                                            <igDP:FieldSettings LabelTextAlignment="Center"
                                                                AllowSummaries="True"  
                                                                >
                                                <igDP:FieldSettings.EditorStyle>
                                                    <Style TargetType="{x:Type smc:NumericTextBox}">
                                                        <Setter Property="IsReadOnly">
                                                            <Setter.Value>
                                                                <MultiBinding Converter="{StaticResource ReadOnlyConverter}"
                                                                                  ConverterParameter="CT;tien_s_ck">
                                                                     <Binding Path="Value"
                                                                                 Source="{StaticResource IsCheckedSua_tien}"
                                                                                 Mode="OneWay" />
                                                                    <Binding Path="Value"
                                                                         Source="{StaticResource IsInEditMode}"
                                                                         Mode="OneWay" />
                                                                </MultiBinding>
                                                            </Setter.Value>
                                                        </Setter>
                                                        <Setter Property="Format"
                                                                Value="{Binding Path=Text, Source={StaticResource Voucher_Ma_nt0}, Converter={StaticResource MaskNumeric}, ConverterParameter=M_IP_TIEN_NT}" />
                                                    </Style>
                                                </igDP:FieldSettings.EditorStyle>
                                            </igDP:FieldSettings>
                                        </igDP:Field.Settings>
                                    </igDP:Field>

                                    <igDP:Field Label="Mã kho"
                                                    Name="ma_kho_i"
                                                    Width="70">
                                        <!--<igDP:Field.Settings>
                                            <igDP:FieldSettings EditAsType="{x:Type System:String}" />
                                        </igDP:Field.Settings>-->
                                        <igDP:Field.Settings>
                                            <igDP:FieldSettings LabelTextAlignment="Center"
                                                                    AllowSummaries="False">
                                                <igDP:FieldSettings.EditorStyle>
                                                    <Style TargetType="{x:Type smc:ControlHostEditor}">
                                                        <Setter Property="EditDataTemplate"
                                                                    Value="{StaticResource ControlSearchKhoHang}" />
                                                        <Setter Property="Template"
                                                                    Value="{Binding Path=EditTemplate, RelativeSource={RelativeSource Self}}" />
                                                    </Style>
                                                </igDP:FieldSettings.EditorStyle>
                                            </igDP:FieldSettings>
                                        </igDP:Field.Settings>
                                    </igDP:Field>
                                    <!--<igDP:Field Label="Mã dự án"
                                                    Name="ma_vv_i"
                                                    Width="100">
                                      
                                        <igDP:Field.Settings>
                                            <igDP:FieldSettings AllowEdit="True"
                                                                    LabelTextAlignment="Center"
                                                                    AllowSummaries="False">
                                                <igDP:FieldSettings.EditorStyle>
                                                    <Style TargetType="{x:Type smc:ControlHostEditor}">
                                                        <Setter Property="EditDataTemplate"
                                                                    Value="{StaticResource ControlSearchVuViec}" />
                                                        <Setter Property="Template"
                                                                    Value="{Binding Path=EditTemplate, RelativeSource={RelativeSource Self}}" />
                                                    </Style>
                                                </igDP:FieldSettings.EditorStyle>
                                            </igDP:FieldSettings>
                                        </igDP:Field.Settings>
                                    </igDP:Field>-->

                                    <igDP:Field Label="Hạn giao hàng"
                                                Name="han_gh_i"
                                                Visibility="Hidden"
                                                Width="100">
                                        <igDP:Field.Settings>
                                            <igDP:FieldSettings LabelTextAlignment="Center"
                                                                AllowEdit="{smc:BindingEx Path=Value, Source={StaticResource IsInEditMode}}"
                                                                EditorType="{x:Type smc:DateTextBox}"/>
                                        </igDP:Field.Settings>
                                    </igDP:Field>

                                    <igDP:Field     Label="Tồn kho"
                                                    Name="ton13"
                                                    Width="130">
                                        <igDP:Field.Settings>
                                            <igDP:FieldSettings AllowEdit="False"
                                                                LabelTextAlignment="Center"
                                                                AllowSummaries="True"
                                                                EditAsType="{x:Type System:Decimal}"
                                                                >
                                                <igDP:FieldSettings.EditorStyle>
                                                    <Style TargetType="{x:Type smc:NumericTextBox}">
                                                        <Setter Property="Format"
                                                                Value="{Binding Path=Text, Source={StaticResource Voucher_Ma_nt0}, Mode=OneWay, Converter={StaticResource MaskNumeric}, ConverterParameter=M_IP_SL}" />
                                                    </Style>
                                                </igDP:FieldSettings.EditorStyle>
                                            </igDP:FieldSettings>
                                        </igDP:Field.Settings>
                                    </igDP:Field>

                                    <igDP:Field     Label="Tồn kho"
                                                    Name="ton_kho"
                                                    Width="1">
                                        <igDP:Field.Settings>
                                            <igDP:FieldSettings AllowEdit="False"
                                                                LabelTextAlignment="Center"
                                                                AllowSummaries="True"
                                                                EditAsType="{x:Type System:Decimal}"
                                                                >
                                                <igDP:FieldSettings.EditorStyle>
                                                    <Style TargetType="{x:Type smc:NumericTextBox}">
                                                        <Setter Property="Format"
                                                                Value="{Binding Path=Text, Source={StaticResource Voucher_Ma_nt0}, Mode=OneWay, Converter={StaticResource MaskNumeric}, ConverterParameter=M_IP_SL}" />
                                                    </Style>
                                                </igDP:FieldSettings.EditorStyle>
                                            </igDP:FieldSettings>
                                        </igDP:Field.Settings>
                                    </igDP:Field>
                                    <!--<igDP:Field Label="C.khấu nt"
                                                    Name="ck_nt"
                                                    Width="130">
                                        <igDP:Field.Settings>
                                            <igDP:FieldSettings LabelTextAlignment="Center"
                                                                    AllowSummaries="True"
                                                                      
                                                                    >
                                                <igDP:FieldSettings.EditorStyle>
                                                    <Style TargetType="{x:Type smc:NumericTextBox}">
                                                        <Setter Property="IsReadOnly">
                                                            <Setter.Value>
                                                                <MultiBinding Converter="{StaticResource ReadOnlyConverter}"
                                                                                  ConverterParameter="CT;ck_nt">
                                                                    <Binding RelativeSource="{RelativeSource AncestorType={x:Type igDP:CellValuePresenter}, Mode=FindAncestor}"
                                                                                 Path="Record.Cells[tien_nt2].Value"
                                                                                 Mode="OneWay" />
                                                                    <Binding RelativeSource="{RelativeSource AncestorType={x:Type igDP:CellValuePresenter}, Mode=FindAncestor}"
                                                                                 Path="Record.Cells[tl_ck].Value"
                                                                                 Mode="OneWay" />
                                                                    <Binding Path="Value"
                                                                                 Source="{StaticResource IsCheckedSua_tien}"
                                                                                 Mode="OneWay" />
                                                                </MultiBinding>
                                                            </Setter.Value>
                                                        </Setter>
                                                        <Setter Property="Format"
                                                                Value="{Binding Path=Text, Source={StaticResource Voucher_Ma_nt0}, Converter={StaticResource MaskNumeric}, ConverterParameter=M_IP_TIEN_NT}" />
                                                    </Style>
                                                </igDP:FieldSettings.EditorStyle>
                                            </igDP:FieldSettings>

                                        </igDP:Field.Settings>
                                    </igDP:Field>-->
                                    <igDP:Field Label="Mã thuế"
                                                Name="ma_thue"
                                                Width="70">
                                        <igDP:Field.Settings>
                                            <igDP:FieldSettings LabelTextAlignment="Center">
                                                <igDP:FieldSettings.EditorStyle>
                                                    <Style TargetType="{x:Type smc:ControlHostEditor}">
                                                        <Setter Property="EditDataTemplate"
                                                                Value="{StaticResource ControlSearchMaThue}" />
                                                        <Setter Property="Template"
                                                                Value="{Binding Path=EditTemplate, RelativeSource={RelativeSource Self}}" />
                                                    </Style>
                                                </igDP:FieldSettings.EditorStyle>
                                            </igDP:FieldSettings>
                                        </igDP:Field.Settings>
                                    </igDP:Field>

                                    <igDP:Field Label="T.suất (%)"
                                                Name="thue_suat"
                                                Width="80">
                                        <igDP:Field.Settings>
                                            <igDP:FieldSettings LabelTextAlignment="Center"
                                                                AllowEdit="False"
                                                                >
                                                <igDP:FieldSettings.EditorStyle>
                                                    <Style TargetType="{x:Type smc:NumericTextBox}">

                                                    </Style>
                                                </igDP:FieldSettings.EditorStyle>
                                            </igDP:FieldSettings>
                                        </igDP:Field.Settings>
                                    </igDP:Field>

                                    <igDP:Field  Label="Tiền thuế nt"
                                                 Name="thue_nt"
                                                 Width="130">
                                        <igDP:Field.Settings>
                                            <igDP:FieldSettings LabelTextAlignment="Center"
                                                                AllowSummaries="True"  
                                                                >
                                                <igDP:FieldSettings.EditorStyle>
                                                    <Style TargetType="{x:Type smc:NumericTextBox}">
                                                        <Setter Property="IsReadOnly">
                                                            <Setter.Value>
                                                                <MultiBinding Converter="{StaticResource ReadOnlyConverter}"
                                                                                  ConverterParameter="CT;thue_nt">
                                                                    <Binding RelativeSource="{RelativeSource AncestorType={x:Type igDP:CellValuePresenter}, Mode=FindAncestor}"
                                                                                 Path="Record.Cells[tien_nt2].Value"
                                                                                 Mode="OneWay" />
                                                                    <Binding RelativeSource="{RelativeSource AncestorType={x:Type igDP:CellValuePresenter}, Mode=FindAncestor}"
                                                                                 Path="Record.Cells[thue_suat].Value"
                                                                                 Mode="OneWay" />
                                                                    <Binding Path="Value"
                                                                                 Source="{StaticResource IsCheckedSua_tien}"
                                                                                 Mode="OneWay" />
                                                                    <Binding Path="Value"
                                                                         Source="{StaticResource IsInEditMode}"
                                                                         Mode="OneWay" />
                                                                </MultiBinding>
                                                            </Setter.Value>
                                                        </Setter>
                                                        <Setter Property="Format"
                                                                Value="{Binding Path=Text, Source={StaticResource Voucher_Ma_nt0}, Converter={StaticResource MaskNumeric}, ConverterParameter=M_IP_TIEN_NT}" />
                                                    </Style>
                                                </igDP:FieldSettings.EditorStyle>
                                            </igDP:FieldSettings>
                                        </igDP:Field.Settings>
                                    </igDP:Field>

                                    <igDP:Field Label="Số lượng KH"
                                                    Name="so_luong_kh"
                                                   Visibility="Hidden"
                                                    Width="130">
                                        <igDP:Field.Settings>
                                            <igDP:FieldSettings LabelTextAlignment="Center"
                                                                    AllowSummaries="True"
                                                                   >
                                                <igDP:FieldSettings.EditorStyle>
                                                    <Style TargetType="{x:Type smc:NumericTextBox}">
                                                        <Setter Property="Format"
                                                                Value="{Binding Path=Text, Source={StaticResource Voucher_Ma_nt0}, Mode=OneWay, Converter={StaticResource MaskNumeric}, ConverterParameter=M_IP_SL}" />
                                                        <Setter Property="IsReadOnly"
                                                            Value="{smc:BindingEx Path=Value, Source={StaticResource IsInEditMode}, Converter={StaticResource BoolInverter}}" />
                                                    </Style>
                                                </igDP:FieldSettings.EditorStyle>
                                            </igDP:FieldSettings>
                                        </igDP:Field.Settings>
                                    </igDP:Field>

                                    <igDP:Field Label="Giá khách hàng"
                                                Visibility="Hidden"
                                                    Name="gia_nt2_kh"
                                                    Width="130">
                                        <igDP:Field.Settings>
                                            <igDP:FieldSettings 
                                                                    LabelTextAlignment="Center"
                                                                    AllowSummaries="False"
                                                                 
                                                                    >
                                                <igDP:FieldSettings.EditorStyle>
                                                    <Style TargetType="{x:Type smc:NumericTextBox}">
                                                        <Setter Property="IsReadOnly">
                                                            <Setter.Value>
                                                                <MultiBinding Converter="{StaticResource ReadOnlyConverter}"
                                                                                  ConverterParameter="CT;gia_nt2">
                                                                    <Binding RelativeSource="{RelativeSource AncestorType={x:Type igDP:CellValuePresenter}, Mode=FindAncestor}"
                                                                                 Path="Record.Cells[so_luong].Value"
                                                                                 Mode="OneWay" />
                                                                    <Binding Path="Value"
                                                                         Source="{StaticResource IsInEditMode}"
                                                                         Mode="OneWay" />

                                                                </MultiBinding>
                                                            </Setter.Value>
                                                        </Setter>
                                                        <Setter Property="Format"
                                                                Value="{Binding Path=Text, Source={StaticResource Voucher_Ma_nt0}, Mode=OneWay, Converter={StaticResource MaskNumeric}, ConverterParameter=M_IP_GIA_NT}" />
                                                    </Style>
                                                </igDP:FieldSettings.EditorStyle>
                                            </igDP:FieldSettings>
                                        </igDP:Field.Settings>
                                    </igDP:Field>
                                    <igDP:Field Label="Thành tiền khách hàng"
                                                  Visibility="Hidden"
                                                    Name="tien_nt2_kh"
                                                    Width="130">
                                        <igDP:Field.Settings>
                                            <igDP:FieldSettings LabelTextAlignment="Center"
                                                                    AllowSummaries="True"
                                                                     
                                                                    >
                                                <igDP:FieldSettings.EditorStyle>
                                                    <Style TargetType="{x:Type smc:NumericTextBox}">
                                                        <Setter Property="IsReadOnly">
                                                            <Setter.Value>
                                                                <MultiBinding Converter="{StaticResource ReadOnlyConverter}"
                                                                                  ConverterParameter="CT;tien_nt2">
                                                                    <Binding RelativeSource="{RelativeSource AncestorType={x:Type igDP:CellValuePresenter}, Mode=FindAncestor}"
                                                                                 Path="Record.Cells[so_luong].Value"
                                                                                 Mode="OneWay" />
                                                                    <Binding RelativeSource="{RelativeSource AncestorType={x:Type igDP:CellValuePresenter}, Mode=FindAncestor}"
                                                                                 Path="Record.Cells[gia_nt2].Value"
                                                                                 Mode="OneWay" />
                                                                    <Binding Path="Value"
                                                                                 Source="{StaticResource IsCheckedSua_tien}"
                                                                                 Mode="OneWay" />
                                                                    <Binding Path="Value"
                                                                         Source="{StaticResource IsInEditMode}"
                                                                         Mode="OneWay" />
                                                                </MultiBinding>
                                                            </Setter.Value>
                                                        </Setter>
                                                        <Setter Property="Format"
                                                                Value="{Binding Path=Text, Source={StaticResource Voucher_Ma_nt0}, Converter={StaticResource MaskNumeric}, ConverterParameter=M_IP_TIEN_NT}" />
                                                    </Style>
                                                </igDP:FieldSettings.EditorStyle>
                                            </igDP:FieldSettings>

                                        </igDP:Field.Settings>
                                    </igDP:Field>


                                    <!--END-->
                                    <!--<igDP:Field Label="Sửa tk kho"
                                                Name="sua_tk_vt"
                                                Visibility="Hidden"
                                                Width="100">
                                        <igDP:Field.Settings>
                                            <igDP:FieldSettings AllowEdit="False"
                                                                EditAsType="{x:Type System:Decimal}"
                                                                EditorType="{x:Type smc:NumericTextBox}" />
                                        </igDP:Field.Settings>
                                    </igDP:Field>-->

                                    <igDP:Field Label="PS thêm"
                                                    Name="check_them"
                                                    Width="90">
                                        <igDP:Field.Settings>
                                            <igDP:FieldSettings LabelTextAlignment="Center"
                                                                    AllowSummaries="True"
                                                                   >
                                                <igDP:FieldSettings.EditorStyle>
                                                    <Style TargetType="{x:Type smc:NumericTextBox}">
                                                        <Setter Property="Format"
                                                                Value="{Binding Path=Text, Source={StaticResource Voucher_Ma_nt0}, Mode=OneWay, Converter={StaticResource MaskNumeric}, ConverterParameter=M_PS_THEM}" />
                                                        <Setter Property="IsReadOnly"
                                                            Value="{smc:BindingEx Path=Value, Source={StaticResource IsInEditMode}, Converter={StaticResource BoolInverter}}" />
                                                    </Style>
                                                </igDP:FieldSettings.EditorStyle>
                                            </igDP:FieldSettings>
                                        </igDP:Field.Settings>
                                    </igDP:Field>

                                    <igDP:Field Label="Giá vốn"
                                                    Name="gia_nt"
                                                    Width="130">
                                        <igDP:Field.Settings>
                                            <igDP:FieldSettings 
                                                                    LabelTextAlignment="Center"
                                                                    AllowSummaries="False"
                                                                    >
                                                <igDP:FieldSettings.EditorStyle>
                                                    <Style TargetType="{x:Type smc:NumericTextBox}">
                                                        <Setter Property="IsReadOnly">
                                                            <Setter.Value>
                                                                <MultiBinding Converter="{StaticResource ReadOnlyConverter}"
                                                                                  ConverterParameter="CT;gia_nt">
                                                                    <Binding RelativeSource="{RelativeSource AncestorType={x:Type igDP:CellValuePresenter}, Mode=FindAncestor}"
                                                                                 Path="Record.Cells[so_luong].Value"
                                                                                 Mode="OneWay" />
                                                                    <Binding Path="Value"
                                                                         Source="{StaticResource IsInEditMode}"
                                                                         Mode="OneWay" />

                                                                </MultiBinding>
                                                            </Setter.Value>
                                                        </Setter>
                                                        <Setter Property="Format"
                                                                Value="{Binding Path=Text, Source={StaticResource Voucher_Ma_nt0}, Mode=OneWay, Converter={StaticResource MaskNumeric}, ConverterParameter=M_IP_GIA_NT}" />
                                                    </Style>
                                                </igDP:FieldSettings.EditorStyle>
                                            </igDP:FieldSettings>
                                        </igDP:Field.Settings>
                                    </igDP:Field>
                                    <igDP:Field Label="Tiền vốn"
                                                    Name="tien_nt"
                                                    Width="130">

                                        <igDP:Field.Settings>
                                            <igDP:FieldSettings LabelTextAlignment="Center"
                                                                    AllowSummaries="True"
                                                                
                                                                    >
                                                <igDP:FieldSettings.EditorStyle>
                                                    <Style TargetType="{x:Type smc:NumericTextBox}">
                                                        <Setter Property="IsReadOnly">
                                                            <Setter.Value>
                                                                <MultiBinding Converter="{StaticResource ReadOnlyConverter}"
                                                                                  ConverterParameter="CT;tien_nt">
                                                                    <Binding RelativeSource="{RelativeSource AncestorType={x:Type igDP:CellValuePresenter}, Mode=FindAncestor}"
                                                                                 Path="Record.Cells[so_luong].Value"
                                                                                 Mode="OneWay" />
                                                                    <Binding RelativeSource="{RelativeSource AncestorType={x:Type igDP:CellValuePresenter}, Mode=FindAncestor}"
                                                                                 Path="Record.Cells[gia_nt].Value"
                                                                                 Mode="OneWay" />
                                                                    <Binding Path="Value"
                                                                                 Source="{StaticResource IsCheckedSua_tien}"
                                                                                 Mode="OneWay" />
                                                                    <Binding Path="Value"
                                                                         Source="{StaticResource IsInEditMode}"
                                                                         Mode="OneWay" />

                                                                </MultiBinding>
                                                            </Setter.Value>
                                                        </Setter>
                                                        <Setter Property="Format"
                                                                Value="{Binding Path=Text, Source={StaticResource Voucher_Ma_nt0}, Converter={StaticResource MaskNumeric}, ConverterParameter=M_IP_TIEN_NT}" />
                                                    </Style>
                                                </igDP:FieldSettings.EditorStyle>
                                            </igDP:FieldSettings>

                                        </igDP:Field.Settings>
                                    </igDP:Field>

                                    <igDP:Field Label="Giá"
                                                    Name="gia2"
                                                    Width="130">
                                        <igDP:Field.Visibility>
                                            <MultiBinding Converter="{StaticResource VisibilityConverter}"
                                                          ConverterParameter="NotMaNt0">
                                                <Binding Path="Value" Source="{StaticResource Voucher_Ma_nt0}"/>
                                            </MultiBinding>
                                        </igDP:Field.Visibility>
                                        <igDP:Field.Settings>
                                            <igDP:FieldSettings LabelTextAlignment="Center"
                                                                    AllowSummaries="False"
                                                                      
                                                                    >
                                                <igDP:FieldSettings.EditorStyle>
                                                    <Style TargetType="{x:Type smc:NumericTextBox}">
                                                        <Setter Property="IsReadOnly">
                                                            <Setter.Value>
                                                                <MultiBinding Converter="{StaticResource ReadOnlyConverter}"
                                                                                  ConverterParameter="CT;gia2">

                                                                    <Binding RelativeSource="{RelativeSource AncestorType={x:Type igDP:CellValuePresenter}, Mode=FindAncestor}"
                                                                                 Path="Record.Cells[gia_nt2].Value"
                                                                                 Mode="OneWay" />
                                                                    <Binding Path="Value"
                                                                                 Source="{StaticResource IsCheckedSua_tien}"
                                                                                 Mode="OneWay" />
                                                                    <Binding Path="Value"
                                                                         Source="{StaticResource IsInEditMode}"
                                                                         Mode="OneWay" />

                                                                </MultiBinding>
                                                            </Setter.Value>
                                                        </Setter>
                                                        <Setter Property="Format"
                                                                    Value="{Binding Path=Text, Source={StaticResource Voucher_Ma_nt0}, Mode=OneWay, Converter={StaticResource MaskNumeric}, ConverterParameter=M_IP_GIA}" />
                                                    </Style>
                                                </igDP:FieldSettings.EditorStyle>
                                            </igDP:FieldSettings>
                                        </igDP:Field.Settings>
                                    </igDP:Field>
                                    <igDP:Field Label="Thành tiền "                                                    
                                                    Name="tien2"                                                
                                                    Width="130">
                                        <igDP:Field.Visibility>
                                            <MultiBinding Converter="{StaticResource VisibilityConverter}"
                                                          ConverterParameter="NotMaNt0">
                                                <Binding Path="Value" Source="{StaticResource Voucher_Ma_nt0}"/>
                                            </MultiBinding>
                                        </igDP:Field.Visibility>
                                        <igDP:Field.Settings>
                                            <igDP:FieldSettings LabelTextAlignment="Center"
                                                                    AllowSummaries="True"
                                                                     
                                                                    >
                                                <igDP:FieldSettings.EditorStyle>
                                                    <Style TargetType="{x:Type smc:NumericTextBox}">
                                                        <Setter Property="IsReadOnly">
                                                            <Setter.Value>
                                                                <MultiBinding Converter="{StaticResource ReadOnlyConverter}"
                                                                                  ConverterParameter="CT;tien2">
                                                                    <Binding RelativeSource="{RelativeSource AncestorType={x:Type igDP:CellValuePresenter}, Mode=FindAncestor}"
                                                                                 Path="Record.Cells[tien_nt2].Value"
                                                                                 Mode="OneWay" />
                                                                    <Binding Path="Value"
                                                                                 Source="{StaticResource IsCheckedSua_tien}"
                                                                                 Mode="OneWay" />
                                                                    <Binding Path="Value"
                                                                         Source="{StaticResource IsInEditMode}"
                                                                         Mode="OneWay" />

                                                                </MultiBinding>
                                                            </Setter.Value>
                                                        </Setter>
                                                        <Setter Property="Format"
                                                                Value="{Binding Path=Text, Source={StaticResource Voucher_Ma_nt0}, Mode=OneWay, Converter={StaticResource MaskNumeric}, ConverterParameter=M_IP_TIEN}" />
                                                    </Style>
                                                </igDP:FieldSettings.EditorStyle>
                                            </igDP:FieldSettings>
                                        </igDP:Field.Settings>
                                    </igDP:Field>
                                    <igDP:Field Label="Tiền thuế"
                                                Name="thue"
                                                Width="130">
                                        <igDP:Field.Visibility>
                                            <MultiBinding Converter="{StaticResource VisibilityConverter}"
                                                          ConverterParameter="NotMaNt0">
                                                <Binding Path="Value" Source="{StaticResource Voucher_Ma_nt0}"/>
                                            </MultiBinding>
                                        </igDP:Field.Visibility>
                                        <igDP:Field.Settings>
                                            <igDP:FieldSettings LabelTextAlignment="Center"
                                                                AllowSummaries="True"
                                                                 
                                                                >
                                                <igDP:FieldSettings.EditorStyle>
                                                    <Style TargetType="{x:Type smc:NumericTextBox}">
                                                        <Setter Property="IsReadOnly">
                                                            <Setter.Value>
                                                                <MultiBinding Converter="{StaticResource ReadOnlyConverter}"
                                                                                  ConverterParameter="CT;thue">
                                                                    <Binding RelativeSource="{RelativeSource AncestorType={x:Type igDP:CellValuePresenter}, Mode=FindAncestor}"
                                                                                 Path="Record.Cells[tien2].Value"
                                                                                 Mode="OneWay" />
                                                                    <Binding RelativeSource="{RelativeSource AncestorType={x:Type igDP:CellValuePresenter}, Mode=FindAncestor}"
                                                                                 Path="Record.Cells[thue_suat].Value"
                                                                                 Mode="OneWay" />
                                                                    <Binding Path="Value"
                                                                                 Source="{StaticResource IsCheckedSua_tien}"
                                                                                 Mode="OneWay" />
                                                                    <Binding Path="Value"
                                                                         Source="{StaticResource IsInEditMode}"
                                                                         Mode="OneWay" />

                                                                </MultiBinding>
                                                            </Setter.Value>
                                                        </Setter>
                                                        <Setter Property="Format"
                                                                Value="{Binding Path=Text, Source={StaticResource Voucher_Ma_nt0}, Mode=OneWay, Converter={StaticResource MaskNumeric}, ConverterParameter=M_IP_TIEN}" />
                                                    </Style>
                                                </igDP:FieldSettings.EditorStyle>
                                            </igDP:FieldSettings>
                                        </igDP:Field.Settings>
                                    </igDP:Field>
                                    <igDP:Field Label="Chiết khấu"
                                                
                                                Name="ck"
                                                Width="130">
                                        <igDP:Field.Visibility>
                                            <MultiBinding Converter="{StaticResource VisibilityConverter}"
                                                          ConverterParameter="NotMaNt0">
                                                <Binding Path="Value" Source="{StaticResource Voucher_Ma_nt0}"/>
                                            </MultiBinding>
                                        </igDP:Field.Visibility>
                                        <igDP:Field.Settings>
                                            <igDP:FieldSettings LabelTextAlignment="Center"
                                                                AllowSummaries="True"
                                                                  
                                                                >
                                                <igDP:FieldSettings.EditorStyle>
                                                    <Style TargetType="{x:Type smc:NumericTextBox}">
                                                        <Setter Property="IsReadOnly">
                                                            <Setter.Value>
                                                                <MultiBinding Converter="{StaticResource ReadOnlyConverter}"
                                                                                  ConverterParameter="CT;ck">
                                                                    <Binding RelativeSource="{RelativeSource AncestorType={x:Type igDP:CellValuePresenter}, Mode=FindAncestor}"
                                                                                 Path="Record.Cells[tien2].Value"
                                                                                 Mode="OneWay" />
                                                                    <Binding RelativeSource="{RelativeSource AncestorType={x:Type igDP:CellValuePresenter}, Mode=FindAncestor}"
                                                                                 Path="Record.Cells[tl_ck].Value"
                                                                                 Mode="OneWay" />
                                                                    <Binding Path="Value"
                                                                                 Source="{StaticResource IsCheckedSua_tien}"
                                                                                 Mode="OneWay" />
                                                                    <Binding Path="Value"
                                                                         Source="{StaticResource IsInEditMode}"
                                                                         Mode="OneWay" />

                                                                </MultiBinding>
                                                            </Setter.Value>
                                                        </Setter>
                                                        <Setter Property="Format"
                                                                Value="{Binding Path=Text, Source={StaticResource Voucher_Ma_nt0}, Mode=OneWay, Converter={StaticResource MaskNumeric}, ConverterParameter=M_IP_TIEN}" />
                                                    </Style>
                                                </igDP:FieldSettings.EditorStyle>
                                            </igDP:FieldSettings>
                                        </igDP:Field.Settings>
                                    </igDP:Field>

                                    <igDP:Field  Label="Giá vốn"
                                                 Name="gia"
                                                 
                                                 Width="130">
                                        <igDP:Field.Visibility>
                                            <MultiBinding Converter="{StaticResource VisibilityConverter}"
                                                          ConverterParameter="NotMaNt0">
                                                <Binding Path="Value" Source="{StaticResource Voucher_Ma_nt0}"/>
                                            </MultiBinding>
                                        </igDP:Field.Visibility>
                                        <igDP:Field.Settings>
                                            <igDP:FieldSettings LabelTextAlignment="Center"
                                                                AllowSummaries="False"
                                                                 
                                                                >
                                                <igDP:FieldSettings.EditorStyle>
                                                    <Style TargetType="{x:Type smc:NumericTextBox}">
                                                        <Setter Property="IsReadOnly">
                                                            <Setter.Value>
                                                                <MultiBinding Converter="{StaticResource ReadOnlyConverter}"
                                                                                  ConverterParameter="CT;gia">
                                                                    <Binding RelativeSource="{RelativeSource AncestorType={x:Type igDP:CellValuePresenter}, Mode=FindAncestor}"
                                                                                 Path="Record.Cells[so_luong].Value"
                                                                                 Mode="OneWay" />
                                                                    <Binding Path="Value"
                                                                                 Source="{StaticResource IsCheckedSua_tien}"
                                                                                 Mode="OneWay" />
                                                                    <Binding Path="Value"
                                                                         Source="{StaticResource IsInEditMode}"
                                                                         Mode="OneWay" />

                                                                </MultiBinding>
                                                            </Setter.Value>
                                                        </Setter>
                                                        <Setter Property="Format"
                                                                Value="{Binding Path=Text, Source={StaticResource Voucher_Ma_nt0}, Mode=OneWay, Converter={StaticResource MaskNumeric}, ConverterParameter=M_IP_TIEN}" />
                                                    </Style>
                                                </igDP:FieldSettings.EditorStyle>
                                            </igDP:FieldSettings>
                                        </igDP:Field.Settings>
                                    </igDP:Field>

                                    <igDP:Field  Label="Tiền vốn"
                                                 Name="tien"
                                                 Width="130">
                                        <igDP:Field.Visibility>
                                            <MultiBinding Converter="{StaticResource VisibilityConverter}"
                                                          ConverterParameter="NotMaNt0">
                                                <Binding Path="Value" Source="{StaticResource Voucher_Ma_nt0}"/>
                                            </MultiBinding>
                                        </igDP:Field.Visibility>
                                        <igDP:Field.Settings>
                                            <igDP:FieldSettings LabelTextAlignment="Center"
                                                                AllowSummaries="True"
                                                                 >
                                                <igDP:FieldSettings.EditorStyle>
                                                    <Style TargetType="{x:Type smc:NumericTextBox}">
                                                        <Setter Property="IsReadOnly">
                                                            <Setter.Value>
                                                                <MultiBinding Converter="{StaticResource ReadOnlyConverter}"
                                                                                  ConverterParameter="CT;tien">
                                                                    <Binding RelativeSource="{RelativeSource AncestorType={x:Type igDP:CellValuePresenter}, Mode=FindAncestor}"
                                                                                 Path="Record.Cells[so_luong].Value"
                                                                                 Mode="OneWay" />
                                                                    <Binding RelativeSource="{RelativeSource AncestorType={x:Type igDP:CellValuePresenter}, Mode=FindAncestor}"
                                                                                 Path="Record.Cells[gia].Value"
                                                                                 Mode="OneWay" />
                                                                    <Binding Path="Value"
                                                                                 Source="{StaticResource IsCheckedSua_tien}"
                                                                                 Mode="OneWay" />
                                                                    <Binding Path="Value"
                                                                         Source="{StaticResource IsInEditMode}"
                                                                         Mode="OneWay" />

                                                                </MultiBinding>
                                                            </Setter.Value>
                                                        </Setter>
                                                        <Setter Property="Format"
                                                                Value="{Binding Path=Text, Source={StaticResource Voucher_Ma_nt0}, Mode=OneWay, Converter={StaticResource MaskNumeric}, ConverterParameter=M_IP_TIEN}" />
                                                    </Style>
                                                </igDP:FieldSettings.EditorStyle>
                                            </igDP:FieldSettings>
                                        </igDP:Field.Settings>
                                    </igDP:Field>
                                </igDP:FieldLayout>
                            </smc:DataGridView.FieldLayouts>
                        </smc:DataGridView>
                    </smc:GridLayout>
                    <!--</smc:ExTabItem>-->
                </igWindows:TabItemEx>
                <!--Tab chi phi-->
                <igWindows:TabItemEx Header="_2. Thông tin khác"
                                     x:Name="tiDH"
                                     TabIndex="130">
                    <smc:GridLayout ColumnCount="5"
                                    ColumnWidths="70,*,12,120,140"
                                    RowCount="10"
                                    RowHeights="75,25,75,25,75,25,75,*"
                                    Margin="0"
                                    Name="GrdDH">

                        <TextBlock Text="Ghi chú"
                               Name="tblNote"
                               Grid.Row="0"
                               Grid.Column="0"
                               Style="{StaticResource ContentTextStyle}" />
                        <TextBox Name="txtNote"
                             TabIndex="962"
                             Text="{smc:BindingEx Path=note}"
                             Grid.Column="1"
                             Grid.Row="0"
                             Grid.ColumnSpan="4"                                                          
                             Grid.RowSpan="1"
                             Height="75"
                             AcceptsReturn="True"
                             VerticalScrollBarVisibility="Auto"
                             Style="{StaticResource TextBoxEditModeEnable}"/>
                        
                        <TextBlock Text="Ghi chú khác"
                               Name="tblNote1"
                               Grid.Row="2"
                               Grid.Column="0"
                               Style="{StaticResource ContentTextStyle}" />
                        <TextBox Name="txtNote1"
                             TabIndex="962"
                             Text="{smc:BindingEx Path=note1}"
                             Grid.Column="1"
                             Grid.Row="2"
                             Grid.ColumnSpan="4"                                                          
                             Grid.RowSpan="1"
                                   Height="75"
                             AcceptsReturn="True"
                             VerticalScrollBarVisibility="Auto"
                             Style="{StaticResource TextBoxEditModeEnable}"/>
                        
                        <TextBlock Text="Khuyến cáo"
                               Name="tblNote3"
                               Grid.Row="4"
                               Grid.Column="0"
                               Style="{StaticResource ContentTextStyle}" />
                        <TextBox Name="txtNote3"
                             TabIndex="962"
                             Text="{smc:BindingEx Path=note2}"
                             Grid.Column="1"
                             Grid.Row="4"
                                   Height="75"
                             Grid.ColumnSpan="4"                                                          
                             Grid.RowSpan="1"
                             AcceptsReturn="True"
                             VerticalScrollBarVisibility="Auto"
                             Style="{StaticResource TextBoxEditModeEnable}"/>



                    </smc:GridLayout>
                </igWindows:TabItemEx>
                <!--Tab tien do sửa chữa-->
                <igWindows:TabItemEx Header="_3. Tiến độ sửa chữa"
                                     x:Name="tiSC"
                                     TabIndex="1030">
                    <smc:GridLayout ColumnCount="8"
                                    ColumnWidths="200,100,50,27,4,27,10,650"
                                    RowCount="10"
                                    RowHeights="25,25,25,25,75,25,75,*"
                                    Margin="0"
                                    Name="GrdSC">

                        <TextBlock Grid.Row="0"
                                       Name="lblma_ktv"
                                       Text="Mã kỹ thuật viên (Ấn phím F11)"
                                       Grid.Column="0"
                                       Margin="0,2"
                                       VerticalAlignment="Center" />

                        <TextBox Name="txtma_ktv"
                                     Grid.Row="0"
                                     Grid.Column="1"
                                     Grid.ColumnSpan="5"
                                     Text="{smc:BindingEx Path=ma_ktv}"
                                     Style="{StaticResource TextBoxStyle}"
                                     TabIndex="1035"
                                     PreviewKeyDown="txtma_ktv_PreviewKeyDown">
                        </TextBox>

                        <TextBox Name="txtten_ktv"
                                     Grid.Row="0"
                                     Grid.Column="7"
                                     Grid.ColumnSpan="7"
                                     Text="{smc:BindingEx Path=ten_ktv_sd}"
                                     Style="{StaticResource TextBoxStyle}"
                                     IsReadOnly="True"
                                     Background="Silver"
                                     IsEnabled="True"
                                     TabIndex="1035"
                                     PreviewKeyDown="txtma_ktv_PreviewKeyDown">
                        </TextBox>


                        <TextBlock Name="tblngay_bat_dau"
                               Text="Ngày bắt đầu sửa chữa"
                               Grid.Column="0"
                               Grid.Row="1"
                               Style="{StaticResource ContentTextStyle}" />

                        <smc:DateTextBox x:Name="txtngay_bat_dau"
                                     Height="20"
                                     AllowEmpty="False"
                                     Grid.Column="1"
                                     Grid.Row="1"
                                     TabIndex="1040"
                                     Value="{smc:BindingEx Path=ngay_bat_dau}"
                                     Style="{StaticResource DateTextBoxEditModeEnable}"
                                     LostFocus="txtngay_bat_dau_LostFocus"
                                     />




                        <!--GIỜ VÀO-->
                        <TextBlock Text="Giờ vào"
                                   Name="tblgio_vao_sc"
                                   Grid.Row="1"
                                   Grid.Column="2"
                                   Style="{StaticResource ContentTextStyle}" />
                        <smc:NumericTextBox  x:Name="txtgio_vao_sc"
                                        Grid.Column="3"
                                        Grid.Row="1"
                                        Style="{StaticResource NumericTextBoxrEditModeEnable}"
                                        Value="{smc:BindingEx gio_vao_sc}"
                                           Mask="{}{number:0-23}"
                                        TabIndex="1045"
                                        Format="{Binding Path=Text, Source={StaticResource M_GIO_VAO}, Mode=OneWay}"
                                        Height="20" ></smc:NumericTextBox>

                        <TextBlock Text=":"
                                   Name="tblcham"
                                   Grid.Row="1"
                                   Grid.Column="4"/>

                        <smc:NumericTextBox  x:Name="txtphut_vao_sc"
                                        Grid.Column="5"
                                        Grid.Row="1"
                                        Style="{StaticResource NumericTextBoxrEditModeEnable}"
                                        Value="{smc:BindingEx phut_vao_sc}"
                                        Mask="{}{number:0-59}"
                                        TabIndex="1050"
                                        Format="{Binding Path=Text, Source={StaticResource M_PHUT_VAO}, Mode=OneWay}"
                                        Height="20" IsInEditMode="True"></smc:NumericTextBox>


                        <!--Format="HH:mm"-->
                        <TextBlock Name="tblngay_ket_thuc"
                               Text="Ngày kết thúc sửa chữa"
                               Grid.Column="0"
                               Grid.Row="2"
                               Style="{StaticResource ContentTextStyle}" />

                        <smc:DateTextBox x:Name="txtngay_ket_thuc"
                                     Height="20"
                                     AllowEmpty="False"
                                     Grid.Column="1"
                                     Grid.Row="2"
                                     TabIndex="1055"
                                     Value="{smc:BindingEx Path=ngay_ket_thuc}"
                                     Style="{StaticResource DateTextBoxEditModeEnable}"
                                     LostFocus="txtngay_ket_thuc_LostFocus"
                                     />

                        <!--GIỜ RA-->
                        <TextBlock Text="Giờ ra"
                                   Name="tblgio_ra_sc"
                                   Grid.Row="2"
                                   Grid.Column="2"/>
                        <smc:NumericTextBox  x:Name="txtgio_ra_sc"
                                        Grid.Column="3"
                                        Grid.Row="2"
                                        Style="{StaticResource NumericTextBoxrEditModeEnable}"
                                        Value="{smc:BindingEx gio_ra_sc}"
                                        Mask="{}{number:0-23}"
                                        TabIndex="1060"
                                        Format="{Binding Path=Text, Source={StaticResource M_GIO_RA}, Mode=OneWay}"
                                        Height="20" IsInEditMode="True"></smc:NumericTextBox>

                        <TextBlock Text=":"
                                   Name="tblcham2"
                                   Grid.Row="2"
                                   Grid.Column="4"/>

                        <smc:NumericTextBox  x:Name="txtphut_ra_sc"
                                        Grid.Column="5"
                                        Grid.Row="2"
                                        Style="{StaticResource NumericTextBoxrEditModeEnable}"
                                        Value="{smc:BindingEx phut_ra_sc}"
                                        Mask="{}{number:0-59}"
                                        TabIndex="1065"
                                        Format="{Binding Path=Text, Source={StaticResource M_PHUT_RA}, Mode=OneWay}"
                                        Height="20" IsInEditMode="True"></smc:NumericTextBox>


                        <!--check xuat xưởng-->
                        <CheckBox Grid.Column="1"
                          Grid.Row="3"
                          Grid.ColumnSpan="4"        
                          Margin="25,0,25,0"
                          Name="ChkXuatXuong"
                          Content="Check Xuất xưởng"
                          IsTabStop="False"
                          Click="ChkXuatXuongn_Click"
                          IsChecked="{smc:BindingEx check_xs, Converter={StaticResource IsCheckedConverter}}"
                          Style="{StaticResource CheckBoxEditModeEnable}" />

                        <!--<TextBlock Text="Ngày"
                               Name="tblNote1"
                               Grid.Row="2"
                               Grid.Column="0"
                               Style="{StaticResource ContentTextStyle}" />
                        <TextBox Name="txtNote1"
                             TabIndex="962"
                             Text="{smc:BindingEx Path=note1}"
                             Grid.Column="1"
                             Grid.Row="2"
                             Grid.ColumnSpan="4"                                                          
                             Grid.RowSpan="1"
                                   Height="75"
                             AcceptsReturn="True"
                             VerticalScrollBarVisibility="Auto"
                             Style="{StaticResource TextBoxEditModeEnable}"/>

                        <TextBlock Text="Khuyến cáo"
                               Name="tblNote3"
                               Grid.Row="4"
                               Grid.Column="0"
                               Style="{StaticResource ContentTextStyle}" />
                        <TextBox Name="txtNote3"
                             TabIndex="962"
                             Text="{smc:BindingEx Path=note2}"
                             Grid.Column="1"
                             Grid.Row="4"
                                   Height="75"
                             Grid.ColumnSpan="4"                                                          
                             Grid.RowSpan="1"
                             AcceptsReturn="True"
                             VerticalScrollBarVisibility="Auto"
                             Style="{StaticResource TextBoxEditModeEnable}"/>-->



                    </smc:GridLayout>
                </igWindows:TabItemEx>

            </igWindows:XamTabControl>
            
            <StackPanel HorizontalAlignment="Right" 
                        VerticalAlignment="Top" 
                        Name="stackIsChecked"
                        Orientation="Horizontal">
                <Button Content="  _Lịch sử sửa chữa       " Grid.Row="0"  Grid.Column="0" Grid.ColumnSpan="1"  Width="150" Click="get_sua_chua" Name="btnget_sua_chua" />
                <!--sua truong tien-->
                <CheckBox Grid.Column="0"
                          Grid.Row="0"
                          Margin="25,0,25,0"
                          Name="ChkSuaTien"
                          Content="Sửa trường tiền"
                          IsTabStop="False"
                          Click="ChkSuaTien_Click"
                          IsChecked="{smc:BindingEx sua_tien, Converter={StaticResource IsCheckedConverter}}"
                          Style="{StaticResource CheckBoxEditModeEnable}" />
         
                <TextBlock Name="tblCtrlTab"
                           Text="Ghi chú xe   "
                           Margin="0,0,0,0"
                           Style="{StaticResource ContentTextStyle}"

                           />

                <TextBox x:Name="txtghichu1"
                             Grid.Column="1"
                             IsReadOnly="False"
                             Grid.Row="0"
                             Width="400"
                             Grid.ColumnSpan="3"
                             Margin="0,0,0,0"
                             TabIndex="20"
                             Text="{smc:BindingEx Path=ghi_chu1}"
                             Style="{StaticResource NguoiMuaEditModeEnable}"
                             />
                <TextBlock Name="tblCtrlTab1"
                           Text="No. Isos   "
                           Margin="0,0,0,0"
                           Style="{StaticResource ContentTextStyle}"

                           />
                <TextBox x:Name="txtNo_Isos"
                             Grid.Column="1"
                             IsReadOnly="False"
                             Grid.Row="0"
                             Width="200"
                             Grid.ColumnSpan="3"
                             Margin="0,0,0,0"
                             TabIndex="20"
                             Text="{smc:BindingEx Path=no_isos}"
                             Style="{StaticResource NguoiMuaEditModeEnable}"
                             />

            </StackPanel>

            <StackPanel HorizontalAlignment="Center" 
                        VerticalAlignment="Top" 
                        Name="stackIsChecked1"
                        Orientation="Horizontal">
                
               

            </StackPanel>
        </smc:GridLayout>

        <GroupBox Header="Tổng cộng"
                  Margin="12,0,12,12"
                  Name="gbTotal"
                  Grid.Column="0"
                  Grid.Row="3">
            <smc:GridLayout Name="GrdLayout30"  Margin="0">
                <smc:GridLayout Grid.Row="3"
                        Name="grdTongCong"
                        RowCount="5"
                        HeightPerRow="25"
                        ColumnCount="5"
                        ColumnWidths="0,22*,22*,22*,140">

                    <!--Ghi chú-->
                    <smc:ExTextBox Grid.Row="0"
                             Grid.Column="0"
                             Grid.RowSpan="4"
                                   Visibility="Hidden"
                            
                             Margin="0,0,0,0"
                                x:Name="tblGhi_chu"
                                Text="Ghi chú"
                                Text2="Note"
                                 Width="96"
                                 Height="25"
                                 IsReadOnly="True"
                                 TextAlignment="Right"
                                 VerticalAlignment="Center">
                        <smc:ExTextBox.LayoutTransform>
                            <RotateTransform Angle="-90" />
                        </smc:ExTextBox.LayoutTransform>
                    </smc:ExTextBox>

                    <smc:GridLayout Name="GrdLayout23"
                                Grid.Column="1"
                                Grid.Row="0"
                                Grid.RowSpan="5"
                                RowCount="4"
                                ColumnCount="5"
                                HeightPerRow="25"
                                     ColumnWidths="70,100,102,10*">

                        <TextBlock Text="File "
                               Name="tblMarker"
                               Grid.Row="0"
                               Grid.Column="0"
                               Style="{StaticResource ContentTextStyle}" />

                        <TextBox x:Name="txtten_file" Grid.Row="0" Grid.Column="1" Grid.ColumnSpan="3"
                                 Text="{smc:BindingEx ten_file}"
                                 IsReadOnly="True" IsTabStop="False" FontWeight="Bold"/>
                        <Button Name="btnBrowse" Grid.Column="1" Grid.Row="1" Width="75" Height="23"
                                    Content="Tải file" Margin="12,0,0,0" Click="btnBrowse_Click" 
                                    Style="{StaticResource ButtonEnabled}"/>
                        <Button Name="btnxemf" Grid.Column="2" Grid.Row="1" Width="75" Height="23"
                                    Content="Xem file" Margin="12,0,0,0" Click="btnxem1_Click" 
                                    Style="{StaticResource ButtonEnabled}"/>

                        <TextBlock Text="KH TT 8%"
                               Name="tbltien_khtt8"
                               Grid.Column="0"
                               Grid.Row="2"
                               Style="{StaticResource ContentTextStyle}" />
                        <smc:NumericTextBox Name="txttien_khtt8"
                                        IsEnabled="True"
                                        IsTabStop="False"
                                        Grid.Row="2"
                                        Grid.Column="1"
                                        Format="{Binding Path=Text, Source={StaticResource Voucher_Ma_nt0}, Mode=OneWay, Converter={StaticResource MaskNumeric}, ConverterParameter=M_IP_TIEN_NT}"
                                        Value="{smc:BindingEx Path=tien_khtt08}" 
                                        ValueChanged="txttiencou_nt_ValueChanged"/>
                        <TextBlock Text="KH TT 10%"
                               Name="tbltien_khtt10"
                               Grid.Column="0"
                               Grid.Row="3"
                               Style="{StaticResource ContentTextStyle}" />
                        <smc:NumericTextBox Name="txttien_khtt10"
                                        IsEnabled="True"
                                        IsTabStop="False"
                                        Grid.Row="3"
                                        Grid.Column="1"
                                        Format="{Binding Path=Text, Source={StaticResource Voucher_Ma_nt0}, Mode=OneWay, Converter={StaticResource MaskNumeric}, ConverterParameter=M_IP_TIEN_NT}"
                                        Value="{smc:BindingEx Path=tien_khtt10}" 
                                        ValueChanged="txttiencou_nt_ValueChanged"/>

                        <CheckBox Grid.Column="2"
                          Grid.Row="3"
                          Margin="25,0,25,0"
                          Grid.ColumnSpan="3"
                          Name="Chkis_hdnopost"
                          Content="HĐ chênh và Bảo hiểm"
                          IsTabStop="False"
                          IsChecked="{smc:BindingEx is_hdnopost, Converter={StaticResource IsCheckedConverter}}"
                          Style="{StaticResource CheckBoxEditModeEnable}" />

                        <TextBox x:Name="txtghi_chu"
                                 Grid.Column="0"
                                 Grid.Row="0"
                                 Grid.RowSpan="4"
                                 Height="96"
                                 Visibility="Hidden"
                                 IsTabStop="False"
                                 TabIndex="140"
                                 Margin="0,2,12,2"
                                 VerticalScrollBarVisibility="Auto"
                                 TextWrapping="Wrap"
                                 Text="{smc:BindingEx ghi_chu}"
                                 Style="{StaticResource TextBoxEditModeEnable}"
                                 PreviewKeyDown="txtghi_chu_PreviewKeyDown" />
                    </smc:GridLayout>
                    <!--GroupBox Tổng cộng: số lượng-->
                    <smc:GridLayout Name="GrdLayout22"
                            Grid.Column="2"
                            Grid.Row="0"
                            Grid.RowSpan="5"
                            RowCount="5"
                            ColumnCount="2"
                            HeightPerRow="25"
                            Margin="0,0,12,0"
                            ColumnWidths="*,140">
                        <TextBlock Grid.Column="0"
                           Grid.Row="0"
                           Name="tblma_soluong"
                           Style="{StaticResource ContentTextStyle}"
                           Text="Số lượng" />

                        <smc:NumericTextBox x:Name="txtso_luong" 
                                    IsEnabled="False"
                                    Grid.Row="0"
                                    Grid.Column="1"
                                    Value="{smc:BindingEx Path=t_so_luong}"
                                    Format="{Binding Path=Text, Source={StaticResource Voucher_Ma_nt0}, Mode=OneWay, Converter={StaticResource MaskNumeric}, ConverterParameter=M_IP_SL}"/>

                        <TextBlock Grid.Column="0"
                           Grid.Row="1"
                           Name="tblHan_tt"
                                   Visibility="Hidden"
                           Style="{StaticResource ContentTextStyle}"
                           Text="Hạn tt" />
                        <smc:NumericTextBox x:Name="txtHan_tt" 
                                    TabIndex="200"
                                    Grid.Row="1"
                                    Grid.Column="1"
                                    Visibility="Hidden"
                                    Value="{smc:BindingEx Path=han_tt}"
                                           GotFocus="txtHan_tt_GotFocus"
                                    LostFocus="txtHan_tt_LostFocus"
                                    Style="{StaticResource NumericTextBoxrEditModeEnable}"
                                           InvalidValueBehavior="RevertValue"
                                     TextChanged="txtHan_tt_TextChanged"
                                    Format="#,0"/>


                        <TextBox x:Name="txtghichu_khtt"
                             Grid.Column="0"
                             IsReadOnly="False"
                             Grid.Row="1"
                             Grid.ColumnSpan="2"
                             Margin="0,0,0,0"
                             TabIndex="20"
                             Text="{smc:BindingEx Path=ghi_chu_khtt}"
                            Style="{StaticResource TextBoxEditModeEnable}"
                             />


                        <TextBlock Text="Khách hàng TT"
                               Name="tbltien_cou"
                               Grid.Column="0"
                               Grid.Row="2"
                               Style="{StaticResource ContentTextStyle}" />
                        <smc:NumericTextBox Name="txttien_cou"
                                        IsEnabled="False"
                                        IsTabStop="False"
                                        Grid.Row="2"
                                        Grid.Column="1"
                                        Format="{Binding Path=Text, Source={StaticResource Voucher_Ma_nt0}, Mode=OneWay, Converter={StaticResource MaskNumeric}, ConverterParameter=M_IP_TIEN_NT}"
                                        Value="{smc:BindingEx Path=tiencou_nt}" 
                                        ValueChanged="txttiencou_nt_ValueChanged"/>


                        <TextBlock Text="Tiền chăm sóc"
                               Name="tbltien_cs"
                               Grid.Column="0"
                               Grid.Row="3"
                               Style="{StaticResource ContentTextStyle}" />
                        <smc:NumericTextBox Name="txttien_cs"
                                        IsEnabled="True"
                                        IsTabStop="False"
                                        Grid.Row="3"
                                        Grid.Column="1"
                                        Format="{Binding Path=Text, Source={StaticResource Voucher_Ma_nt0}, Mode=OneWay, Converter={StaticResource MaskNumeric}, ConverterParameter=M_IP_TIEN_NT}"
                                        Value="{smc:BindingEx Path=tiencs_nt}" 
                                        ValueChanged="txttiencs_nt_ValueChanged"/>
                        <TextBlock Text="Tổng tiền tt"
                           Name="tblt_tt_nt"
                           Grid.Column="0"
                           Grid.Row="5" 
                           Style="{StaticResource ContentTextStyle}" />
                        <smc:NumericTextBox x:Name="txtT_tt_nt"
                                    IsEnabled="False"
                                    Value="{smc:BindingEx Path=t_tt_nt}"
                                    Grid.Row="5"
                                    Grid.Column="3"
                                    Format="{Binding Path=Text, Source={StaticResource Voucher_Ma_nt0}, Mode=OneWay, Converter={StaticResource MaskNumeric}, ConverterParameter=M_IP_TIEN_NT}" />

                    </smc:GridLayout>

                    <smc:GridLayout x:Name="GrdLayout25"
                                    Visibility="Hidden"
                            Grid.Column="1"
                            Grid.RowSpan="5"
                            RowCount="5"
                            HeightPerRow="25"
                            Margin="0,0,12,0"
                            ColumnCount="4"
                            ColumnWidths="*,30,15,100">

                        <TextBlock Text="Cộng tiền KH"
                           Name="tblt_tien_kh"
                           Grid.Column="0"
                           Grid.Row="0"
                           Style="{StaticResource ContentTextStyle}" />

                        <smc:NumericTextBox Name="txttl_tien"
                                        IsEnabled="True"
                                        IsTabStop="False"
                                        Grid.Row="0"
                                        Grid.Column="1"
                                        Format="{Binding Path=Text, Source={StaticResource Voucher_Ma_nt0}, Mode=OneWay, Converter={StaticResource MaskNumeric}, ConverterParameter=M_IP_TIEN_NT}"
                                        Value="{smc:BindingEx Path=tl_tien_chenh}" 
                                        ValueChanged="txttl_tien_ValueChanged"/>
                        <TextBlock Text="%"
                           Name="tbltl_tien"
                           Grid.Column="2"
                           Grid.Row="0"
                           Style="{StaticResource ContentTextStyle}" />

                        <smc:NumericTextBox x:Name="txtT_Tien_kh"
                                    IsEnabled="False"
                                    Value="{smc:BindingEx Path=t_tien_kh}"
                                    Grid.Row="0"
                                    Grid.Column="3"
                                    Format="{Binding Path=Text, Source={StaticResource Voucher_Ma_nt0}, Mode=OneWay, Converter={StaticResource MaskNumeric}, ConverterParameter=M_IP_TIEN_NT}"/>

                        <TextBlock Text="%"
                           Name="tbltl_thue"
                           Grid.Column="2"
                           Grid.Row="1"
                           Style="{StaticResource ContentTextStyle}" />

                        <TextBlock Text="Tiền thuế KH"
                           Name="tblt_thue_kh"
                           Grid.Column="0"
                           Grid.Row="1" 
                           Style="{StaticResource ContentTextStyle}" />

                        <smc:NumericTextBox Name="txttl_thue"
                                        IsEnabled="True"
                                        IsTabStop="False"
                                        Grid.Row="1"
                                        Grid.Column="1"
                                        Format="{Binding Path=Text, Source={StaticResource Voucher_Ma_nt0}, Mode=OneWay, Converter={StaticResource MaskNumeric}, ConverterParameter=M_IP_TIEN_NT}"
                                        Value="{smc:BindingEx Path=tl_thue_chenh}" 
                                        ValueChanged="txttl_thue_ValueChanged"/>

                        <smc:NumericTextBox x:Name="txtT_thue_kh"
                                    IsEnabled="False"
                                    Grid.Row="1"
                                    Value="{smc:BindingEx Path=t_thue_kh}"
                                    Grid.Column="3"
                                    Format="{Binding Path=Text ,Source={StaticResource Voucher_Ma_nt0}, Converter={StaticResource MaskNumeric}, ConverterParameter=M_IP_TIEN_NT}" />


                        <TextBlock Text="Tổng tiền chênh"
                           Name="tblt_tien_chenh"
                           Grid.Column="0"
                           Grid.Row="2" 
                           Style="{StaticResource ContentTextStyle}" />
                        <smc:NumericTextBox x:Name="txtT_tien_chenh"
                                    IsEnabled="False"
                                    Value="{smc:BindingEx Path=t_tien_chenh}"
                                    Grid.Row="2"
                                    Grid.Column="3"
                                    Format="{Binding Path=Text, Source={StaticResource Voucher_Ma_nt0}, Mode=OneWay, Converter={StaticResource MaskNumeric}, ConverterParameter=M_IP_TIEN_NT}" />

                        <TextBlock Text="Lợi nhuận"
                               Name="tblln"
                               Grid.Column="0"
                               Grid.Row="3"
                               Style="{StaticResource ContentTextStyle}" />
                        <smc:NumericTextBox Name="txtln"
                                         IsReadOnly="True"
                                      Grid.Row="3"
                                        Background="Silver"
                                          IsEnabled="False"
                                        IsTabStop="False"

                                        Grid.Column="3"
                                        Format="{Binding Path=Text, Source={StaticResource Voucher_Ma_nt0}, Mode=OneWay, Converter={StaticResource MaskNumeric}, ConverterParameter=M_IP_TIEN_NT}"
                                        Value="{smc:BindingEx Path=loi_nhuan}" 
                                        ValueChanged="txttienbd_nt_ValueChanged"/>
                        <TextBlock Text="Tỷ lệ"
                               Name="tbltl_lai"
                               Grid.Column="0"
                               Grid.Row="5"
                               Style="{StaticResource ContentTextStyle}" />
                        <smc:NumericTextBox Name="txttl_lai"
                                        IsEnabled="True"
                                        IsTabStop="False"
                                        Grid.Row="5"
                                        Grid.Column="3"
                                        Format="{Binding Path=Text, Source={StaticResource Voucher_Ma_nt0}, Mode=OneWay, Converter={StaticResource MaskNumeric}, ConverterParameter=M_IP_TIEN_NT}"
                                        Value="{smc:BindingEx Path=tl_lai}" 
                                        ValueChanged="txttienbd_nt_ValueChanged"/>



                    </smc:GridLayout>
                    <!--Tổng tiền nt-->
                    <smc:GridLayout x:Name="GrdLayout21"
                            Grid.Column="3" Grid.RowSpan="5"
                            RowCount="5"
                            HeightPerRow="25"
                            Margin="0,0,12,0"
                            ColumnCount="2"
                            ColumnWidths="*,140">

                        <TextBlock Text="Cộng tiền hàng"
                           Name="tblt_tien_nt"
                           Grid.Column="0"
                           Grid.Row="0"
                           Style="{StaticResource ContentTextStyle}" />
                        <smc:NumericTextBox x:Name="txtT_Tien_nt"
                                    IsEnabled="False"
                                    Value="{smc:BindingEx Path=t_tien_nt2}"
                                    Grid.Row="0"
                                    Grid.Column="1"
                                    Format="{Binding Path=Text, Source={StaticResource Voucher_Ma_nt0}, Mode=OneWay, Converter={StaticResource MaskNumeric}, ConverterParameter=M_IP_TIEN_NT}"/>
                        <TextBlock Text="Tiền ck"
                           Name="tblt_ck_nt"
                           Grid.Column="0"
                           Grid.Row="1" 
                           Style="{StaticResource ContentTextStyle}" />
                        <smc:NumericTextBox x:Name="txtT_ck_nt"
                                    IsEnabled="False"
                                    Grid.Row="1"
                                    Value="{smc:BindingEx Path=t_ck_nt}"
                                    Grid.Column="3"
                                    Format="{Binding Path=Text, Source={StaticResource Voucher_Ma_nt0}, Mode=OneWay, Converter={StaticResource MaskNumeric}, ConverterParameter=M_IP_TIEN_NT}" />


                        <TextBlock Text="Tiền bảo dưỡng"
                               Name="tbltien_bd"
                               Grid.Column="0"
                               Grid.Row="2"
                               Style="{StaticResource ContentTextStyle}" />
                        <smc:NumericTextBox Name="txttien_bd"
                                        IsEnabled="True"
                                        IsTabStop="False"
                                        Grid.Row="2"
                                        Grid.Column="1"
                                        Format="{Binding Path=Text, Source={StaticResource Voucher_Ma_nt0}, Mode=OneWay, Converter={StaticResource MaskNumeric}, ConverterParameter=M_IP_TIEN_NT}"
                                        Value="{smc:BindingEx Path=tienbd_nt}" 
                                        ValueChanged="txttienbd_nt_ValueChanged"/>

                        <TextBlock Text="Tiền sau ck"
                           Name="tblt_sau_ck_nt"
                           Grid.Column="0"
                           Grid.Row="3" 
                           Style="{StaticResource ContentTextStyle}" />
                        <smc:NumericTextBox x:Name="txtT_sau_ck_nt"
                                    IsEnabled="False"
                                    Grid.Row="3"
                                    Value="{smc:BindingEx Path=t_sau_ck_nt}"
                                    Grid.Column="3"
                                    Format="{Binding Path=Text, Source={StaticResource Voucher_Ma_nt0}, Mode=OneWay, Converter={StaticResource MaskNumeric}, ConverterParameter=M_IP_TIEN_NT}" />

                        <TextBlock Text="Tiền thuế GTGT"
                           Name="tblt_thue_nt"
                           Grid.Column="0"
                           Grid.Row="4" 
                           Style="{StaticResource ContentTextStyle}" />
                        <smc:NumericTextBox x:Name="txtT_thue_nt"
                                    IsEnabled="False"
                                    Grid.Row="4"
                                    Value="{smc:BindingEx Path=t_thue_nt}"
                                    Grid.Column="3"
                                    Format="{Binding Path=Text ,Source={StaticResource Voucher_Ma_nt0}, Converter={StaticResource MaskNumeric}, ConverterParameter=M_IP_TIEN_NT}" />

                    </smc:GridLayout>

                    <!--Tổng tiền-->
                    <smc:GridLayout x:Name="GrdLayout20"
                            Grid.Column="4" Grid.RowSpan="5" RowCount="5"
                            HeightPerRow="25"
                            ColumnCount="2"
                            ColumnWidths="100,40"
                            >
                        <!--<smc:GridLayout.Visibility >
                            <MultiBinding Converter="{StaticResource VisibilityConverter}"    
                                              ConverterParameter="NotMaNt0">
                                <Binding Path="Value" Source="{StaticResource Voucher_Ma_nt0}"/>
                            </MultiBinding>

                        </smc:GridLayout.Visibility>-->
                        <smc:NumericTextBox x:Name="txtT_Tien_Nt0"
                                    IsEnabled="False"
                                    Value="{smc:BindingEx Path=t_tien2}"
                                    Grid.Row="0"
                                            Visibility="Hidden"
                                    Grid.Column="0" 
                                    Format="{Binding Path=Text, Source={StaticResource Voucher_Ma_nt0}, Mode=OneWay, Converter={StaticResource MaskNumeric}, ConverterParameter=M_IP_TIEN}" />
                        <!--HOANGTQ-->
                        <Button Content="_Get ngày ra" Grid.Row="0"  Grid.Column="0" Grid.ColumnSpan="1" Height="20" Width="80" Click="get_time" Name="btnget_date" />

                        <TextBlock Name="tblngay_ra"
                               Text="Ngày ra xưởng"
                               Grid.Column="0"
                               Grid.Row="1"
                                   Visibility="Hidden"
                               Grid.ColumnSpan="2"
                               Style="{StaticResource ContentTextStyle}" />

                        <smc:DateTextBox x:Name="txtNgay_ra"
                                     Height="20"
                                     AllowEmpty="False"
                                     Grid.Column="0"
                                     Grid.Row="1"
                                     Grid.ColumnSpan="1"
                                     TabIndex="50"
                                     Value="{smc:BindingEx Path=ngay_ra}"
                                     Style="{StaticResource DateTextBoxEditModeEnable}"
                                     LostFocus="txtNgay_ra_LostFocus"
                                     />
                        <!--IsReadOnly="True"
                                         IsEnabled="False"-->
                        <smc:DateTextBox x:Name="txtgio_ra"
                                     Height="20"
                                     AllowEmpty="False"
                                         IsReadOnly="True"
                                         IsEnabled="False"
                                     Grid.Column="3"
                                     Grid.Row="1"
                                     Grid.ColumnSpan="2"
                                     TabIndex="50"
                                     Value="{smc:BindingEx Path=gio_ra}"
                                     Style="{StaticResource DateTextBoxEditModeEnable}"
                                     LostFocus="txtNgay_ra_LostFocus"
                                     Format="HH:mm"
                                     />

                        <!--Trạng thái-->
                        <smc:GridLayout Name="GrdLayoutStatus"
                                    Grid.Column="0"
                                    Grid.Row="2"
                                    Grid.ColumnSpan="2"
                                    ColumnCount="2"
                                    ColumnWidths="*,90"
                                    KeyboardNavigation.TabNavigation="None">
                            <TextBlock Grid.Column="0"
                                   Grid.Row="0"
                                   Grid.ColumnSpan="4"
                                   Name="tblStatus"
                                   Style="{StaticResource ContentTextStyle}"
                                   Text="{Binding Path=Value, Source={StaticResource IsInEditMode}, Converter={StaticResource TextStatus}}" />
                            <igEditors:XamComboEditor 
                                                  Style="{StaticResource ComboBoxEditModeEnable}"
                                                  SelectedIndex="{smc:BindingEx Path=status,Converter={StaticResource StatusVoucher}}"
                                                  ValuePath="ma_post"
                                                  Grid.Column="1"
                                                  Grid.Row="0"
                                              Height="20"
                                                  Name="txtStatus"
                                                  TabIndex="83"/>

                        </smc:GridLayout>





                        <smc:NumericTextBox x:Name="txtT_ck_Nt0"
                                    IsEnabled="False"
                                    Grid.Row="1"
                                    Value="{smc:BindingEx Path=t_ck}"
                                            Visibility="Hidden"
                                    Grid.Column="0" 
                                    Format="{Binding Path=Text, Source={StaticResource Voucher_Ma_nt0}, Mode=OneWay, Converter={StaticResource MaskNumeric}, ConverterParameter=M_IP_TIEN}"/>
                        <smc:NumericTextBox x:Name="txtT_sau_ck_Nt0"
                                    IsEnabled="False"
                                    Grid.Row="2"
                                            Visibility="Hidden"
                                    Value="{smc:BindingEx Path=t_sau_ck}"
                                    Grid.Column="0" 
                                    Format="{Binding Path=Text, Source={StaticResource Voucher_Ma_nt0}, Mode=OneWay, Converter={StaticResource MaskNumeric}, ConverterParameter=M_IP_TIEN}"/>
                        <smc:NumericTextBox x:Name="txtT_thue_Nt0"
                                    IsEnabled="False"
                                    Grid.Row="3"
                                    Value="{smc:BindingEx Path=t_thue}"
                                            Visibility="Hidden"
                                    Grid.Column="0" 
                                    Format="{Binding Path=Text, Source={StaticResource Voucher_Ma_nt0}, Mode=OneWay, Converter={StaticResource MaskNumeric}, ConverterParameter=M_IP_TIEN}" />

                        <smc:NumericTextBox x:Name="txtT_tt_Nt0"
                                    IsEnabled="False"
                                    Value="{smc:BindingEx Path=t_tt}"
                                            Visibility="Hidden"
                                    Grid.Row="4"
                                    Grid.Column="0" 
                                    Format="{Binding Path=Text, Source={StaticResource Voucher_Ma_nt0}, Mode=OneWay, Converter={StaticResource MaskNumeric}, ConverterParameter=M_IP_TIEN}" />
                    </smc:GridLayout>
                </smc:GridLayout>
            </smc:GridLayout>
        </GroupBox>

    </smc:GridLayout>
</smvc:FormTrans>
